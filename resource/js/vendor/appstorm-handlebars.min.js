(function(){function e(c,f,b){c.addEventListener?c.addEventListener(f,b,!1):c.attachEvent("on"+f,b)}function b(c){if("keypress"==c.type){var f=String.fromCharCode(c.which);c.shiftKey||(f=f.toLowerCase());return f}return t[c.which]?t[c.which]:u[c.which]?u[c.which]:String.fromCharCode(c.which).toLowerCase()}function g(c){c=c||{};var f=!1,b;for(b in m)c[b]?f=!0:m[b]=0;f||(n=!1)}function d(f,b,q,s,d){var g,n,e=[],h=q.type;if(!c[f])return[];"keyup"==h&&r(f)&&(b=[f]);for(g=0;g<c[f].length;++g)(n=c[f][g],
n.seq&&m[n.seq]!=n.level||h!=n.action||("keypress"!=h||q.metaKey||q.ctrlKey)&&b.sort().join(",")!==n.modifiers.sort().join(","))||(s&&n.combo==d&&c[f].splice(g,1),e.push(n));return e}function h(c){var f=[];c.shiftKey&&f.push("shift");c.altKey&&f.push("alt");c.ctrlKey&&f.push("ctrl");c.metaKey&&f.push("meta");return f}function k(c,f,b){A.stopCallback(f,f.target||f.srcElement,b)||!1!==c(f,b)||(f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation(),f.returnValue=!1,f.cancelBubble=
!0)}function p(c){"number"!==typeof c.which&&(c.which=c.keyCode);var f=b(c);f&&("keyup"==c.type&&s==f?s=!1:A.handleKey(f,h(c),c))}function r(c){return"shift"==c||"ctrl"==c||"alt"==c||"meta"==c}function l(c,f,b){if(!b){if(!z){z={};for(var q in t)95<q&&112>q||t.hasOwnProperty(q)&&(z[t[q]]=q)}b=z[c]?"keydown":"keypress"}"keypress"==b&&f.length&&(b="keydown");return b}function y(e,h,x,p,t){f[e+":"+x]=h;e=e.replace(/\s+/g," ");var A=e.split(" "),F,u,C=[];if(1<A.length){var z=e,I=x;m[z]=0;I||(I=l(A[0],
[]));e=function(){n=I;++m[z];clearTimeout(q);q=setTimeout(g,1E3)};x=function(c){k(h,c,z);"keyup"!==I&&(s=b(c));setTimeout(g,10)};for(p=0;p<A.length;++p)y(A[p],p<A.length-1?e:x,I,z,p)}else{u="+"===e?["+"]:e.split("+");for(A=0;A<u.length;++A)F=u[A],v[F]&&(F=v[F]),x&&"keypress"!=x&&w[F]&&(F=w[F],C.push("shift")),r(F)&&C.push(F);x=l(F,C,x);c[F]||(c[F]=[]);d(F,C,{type:x},!p,e);c[F][p?"unshift":"push"]({callback:h,modifiers:C,action:x,seq:p,level:t,combo:e})}}for(var t={8:"backspace",9:"tab",13:"enter",
16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},v={option:"alt",command:"meta",
"return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},z,c={},f={},m={},q,s=!1,n=!1,x=1;20>x;++x)t[111+x]="f"+x;for(x=0;9>=x;++x)t[x+96]=x;e(document,"keypress",p);e(document,"keydown",p);e(document,"keyup",p);var A={bind:function(c,f,b){c=c instanceof Array?c:[c];for(var q=0;q<c.length;++q)y(c[q],f,b);return this},unbind:function(c,f){return A.bind(c,function(){},f)},trigger:function(c,b){if(f[c+":"+b])f[c+":"+b]({},c);return this},reset:function(){c={};
f={};return this},stopCallback:function(c,f){return-1<(" "+f.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==f.tagName||"SELECT"==f.tagName||"TEXTAREA"==f.tagName||f.contentEditable&&"true"==f.contentEditable},handleKey:function(c,f,b){f=d(c,f,b);var q,m={},s=0,e=!1;for(q=0;q<f.length;++q)f[q].seq&&(s=Math.max(s,f[q].level));for(q=0;q<f.length;++q)f[q].seq?f[q].level==s&&(e=!0,m[f[q].seq]=1,k(f[q].callback,b,f[q].combo)):e||k(f[q].callback,b,f[q].combo);b.type==n&&!r(c)&&g(m)}};window.Mousetrap=
A;"function"===typeof define&&define.amd&&define(A)})();(function(){function e(c){var f,q,m,s="json"==c;if(s||"json-stringify"==c||"json-parse"==c){if("json-stringify"==c||s){if(f="function"==typeof l.stringify&&A){(m=function(){return 1}).toJSON=m;try{f="0"===l.stringify(0)&&"0"===l.stringify(new Number)&&'""'==l.stringify(new String)&&l.stringify(h)===b&&l.stringify(b)===b&&l.stringify()===b&&"1"===l.stringify(m)&&"[1]"==l.stringify([m])&&"[null]"==l.stringify([b])&&"null"==l.stringify(d)&&"[null,null,null]"==l.stringify([b,h,d])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
l.stringify({A:[m,g,!1,d,"\x00\b\n\f\r\t"]})&&"1"===l.stringify(d,m)&&"[\n 1,\n 2\n]"==l.stringify([1,2],d,1)&&'"-271821-04-20T00:00:00.000Z"'==l.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==l.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==l.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==l.stringify(new Date(-1))}catch(e){f=!1}}if(!s)return f}if("json-parse"==c||s){if("function"==typeof l.parse)try{if(0===l.parse("0")&&!l.parse(!1)&&(m=l.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),
q=5==m.a.length&&1==m.a[0])){try{q=!l.parse('"\t"')}catch(n){}if(q)try{q=1!=l.parse("01")}catch(x){}}}catch(p){q=!1}if(!s)return q}return f&&q}}var b=void 0,g=!0,d=null,h={}.toString,k,p,r="function"===typeof define&&define.c,l=!r&&"object"==typeof exports&&exports;l||r?"object"==typeof JSON&&JSON?r?l=JSON:(l.stringify=JSON.stringify,l.parse=JSON.parse):r&&(l=this.JSON={}):l=this.JSON||(this.JSON={});var y,t,u,w,v,z,c,f,m,q,s,n,x,A=new Date(-0xc782b5b800cec),B,D,E;try{A=-109252==A.getUTCFullYear()&&
0===A.getUTCMonth()&&1==A.getUTCDate()&&10==A.getUTCHours()&&37==A.getUTCMinutes()&&6==A.getUTCSeconds()&&708==A.getUTCMilliseconds()}catch(G){}e("json")||(A||(B=Math.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(c,f){return D[f]+365*(c-1970)+B((c-1969+(f=+(1<f)))/4)-B((c-1901+f)/100)+B((c-1601+f)/400)}),(k={}.hasOwnProperty)||(k=function(c){var f={},q;(f.__proto__=d,f.__proto__={toString:1},f).toString!=h?k=function(c){var f=this.__proto__;c=c in(this.__proto__=d,this);this.__proto__=
f;return c}:(q=f.constructor,k=function(c){var f=(this.constructor||q).prototype;return c in this&&!(c in f&&this[c]===f[c])});f=d;return k.call(this,c)}),p=function(c,f){var q=0,b,m,s;(b=function(){this.valueOf=0}).prototype.valueOf=0;m=new b;for(s in m)k.call(m,s)&&q++;b=m=d;q?q=2==q?function(c,f){var q={},b="[object Function]"==h.call(c),m;for(m in c)b&&"prototype"==m||k.call(q,m)||(q[m]=1)&&k.call(c,m)&&f(m)}:function(c,f){var q="[object Function]"==h.call(c),b,m;for(b in c)q&&"prototype"==b||
!k.call(c,b)||(m="constructor"===b)||f(b);(m||k.call(c,b="constructor"))&&f(b)}:(m="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),q=function(c,f){var q="[object Function]"==h.call(c),b;for(b in c)q&&"prototype"==b||!k.call(c,b)||f(b);for(q=m.length;b=m[--q];k.call(c,b)&&f(b));});q(c,f)},e("json-stringify")||(y={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},t=function(c,f){return("000000"+(f||0)).slice(-c)},
u=function(c){for(var f='"',b=0,q;q=c.charAt(b);b++)f+=-1<'\\"\b\f\n\r\t'.indexOf(q)?y[q]:y[q]=" ">q?"\\u00"+t(2,q.charCodeAt(0).toString(16)):q;return f+'"'},w=function(c,f,q,m,s,e,n){var x=f[c],l,A,y,r,v,z,D,G,H;if("object"==typeof x&&x)if(l=h.call(x),"[object Date]"!=l||k.call(x,"toJSON"))"function"==typeof x.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||k.call(x,"toJSON"))&&(x=x.toJSON(c));else if(x>-1/0&&x<1/0){if(E){y=B(x/864E5);for(l=B(y/365.2425)+1970-1;E(l+1,0)<=
y;l++);for(A=B((y-E(l,0))/30.42);E(l,A+1)<=y;A++);y=1+y-E(l,A);r=(x%864E5+864E5)%864E5;v=B(r/36E5)%24;z=B(r/6E4)%60;D=B(r/1E3)%60;r%=1E3}else l=x.getUTCFullYear(),A=x.getUTCMonth(),y=x.getUTCDate(),v=x.getUTCHours(),z=x.getUTCMinutes(),D=x.getUTCSeconds(),r=x.getUTCMilliseconds();x=(0>=l||1E4<=l?(0>l?"-":"+")+t(6,0>l?-l:l):t(4,l))+"-"+t(2,A+1)+"-"+t(2,y)+"T"+t(2,v)+":"+t(2,z)+":"+t(2,D)+"."+t(3,r)+"Z"}else x=d;q&&(x=q.call(f,c,x));if(x===d)return"null";l=h.call(x);if("[object Boolean]"==l)return""+
x;if("[object Number]"==l)return x>-1/0&&x<1/0?""+x:"null";if("[object String]"==l)return u(x);if("object"==typeof x){for(c=n.length;c--;)if(n[c]===x)throw TypeError();n.push(x);G=[];f=e;e+=s;if("[object Array]"==l){A=0;for(c=x.length;A<c;H||(H=g),A++)l=w(A,x,q,m,s,e,n),G.push(l===b?"null":l);c=H?s?"[\n"+e+G.join(",\n"+e)+"\n"+f+"]":"["+G.join(",")+"]":"[]"}else p(m||x,function(c){var f=w(c,x,q,m,s,e,n);f!==b&&G.push(u(c)+":"+(s?" ":"")+f);H||(H=g)}),c=H?s?"{\n"+e+G.join(",\n"+e)+"\n"+f+"}":"{"+G.join(",")+
"}":"{}";n.pop();return c}},l.stringify=function(c,f,q){var b,m,s,e,d,n;if("function"==typeof f||"object"==typeof f&&f)if("[object Function]"==h.call(f))m=f;else if("[object Array]"==h.call(f))for(s={},e=0,d=f.length;e<d;n=f[e++],("[object String]"==h.call(n)||"[object Number]"==h.call(n))&&(s[n]=1));if(q)if("[object Number]"==h.call(q)){if(0<(q-=q%1))for(b="",10<q&&(q=10);b.length<q;b+=" ");}else"[object String]"==h.call(q)&&(b=10>=q.length?q:q.slice(0,10));return w("",(n={},n[""]=c,n),m,s,b,"",
[])}),e("json-parse")||(v=String.fromCharCode,z={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},c=function(){n=x=d;throw SyntaxError();},f=function(){for(var f=x,q=f.length,b,m,s,e,h;n<q;)if(b=f.charAt(n),-1<"\t\r\n ".indexOf(b))n++;else{if(-1<"{}[]:,".indexOf(b))return n++,b;if('"'==b){m="@";for(n++;n<q;)if(b=f.charAt(n)," ">b)c();else if("\\"==b)if(b=f.charAt(++n),-1<'\\"/btnfr'.indexOf(b))m+=z[b],n++;else if("u"==b){s=++n;for(e=n+4;n<e;n++)b=f.charAt(n),"0"<=b&&"9">=b||"a"<=b&&"f">=
b||"A"<=b&&"F">=b||c();m+=v("0x"+f.slice(s,n))}else c();else{if('"'==b)break;m+=b;n++}if('"'==f.charAt(n))return n++,m}else{s=n;"-"==b&&(h=g,b=f.charAt(++n));if("0"<=b&&"9">=b){for("0"==b&&(b=f.charAt(n+1),"0"<=b&&"9">=b)&&c();n<q&&(b=f.charAt(n),"0"<=b&&"9">=b);n++);if("."==f.charAt(n)){for(e=++n;e<q&&(b=f.charAt(e),"0"<=b&&"9">=b);e++);e==n&&c();n=e}b=f.charAt(n);if("e"==b||"E"==b){b=f.charAt(++n);"+"!=b&&"-"!=b||n++;for(e=n;e<q&&(b=f.charAt(e),"0"<=b&&"9">=b);e++);e==n&&c();n=e}return+f.slice(s,
n)}h&&c();if("true"==f.slice(n,n+4))return n+=4,g;if("false"==f.slice(n,n+5))return n+=5,!1;if("null"==f.slice(n,n+4))return n+=4,d}c()}return"$"},m=function(b){var q,s;"$"==b&&c();if("string"==typeof b){if("@"==b.charAt(0))return b.slice(1);if("["==b){for(q=[];;s||(s=g)){b=f();if("]"==b)break;s&&(","==b?(b=f(),"]"==b&&c()):c());","==b&&c();q.push(m(b))}return q}if("{"==b){for(q={};;s||(s=g)){b=f();if("}"==b)break;s&&(","==b?(b=f(),"}"==b&&c()):c());","!=b&&"string"==typeof b&&"@"==b.charAt(0)&&":"==
f()||c();q[b.slice(1)]=m(f())}return q}c()}return b},s=function(c,f,m){m=q(c,f,m);m===b?delete c[f]:c[f]=m},q=function(c,f,b){var q=c[f],m;if("object"==typeof q&&q)if("[object Array]"==h.call(q))for(m=q.length;m--;)s(q,m,b);else p(q,function(c){s(q,c,b)});return b.call(c,f,q)},l.parse=function(b,s){var e,g;n=0;x=b;e=m(f());"$"!=f()&&c();n=x=d;return s&&"[object Function]"==h.call(s)?q((g={},g[""]=e,g),"",s):e}));r&&define(function(){return l})})();(function(e){var b={VERSION:"1.0.0",COMPILER_REVISION:4,REVISION_CHANGES:{1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},helpers:{},partials:{}},g=Object.prototype.toString;b.registerHelper=function(c,f,m){if("[object Object]"===g.call(c)){if(m||f)throw new b.Exception("Arg not supported with multiple helpers");b.Utils.extend(this.helpers,c)}else m&&(f.not=m),this.helpers[c]=f};b.registerPartial=function(c,f){"[object Object]"===g.call(c)?b.Utils.extend(this.partials,c):this.partials[c]=
f};b.registerHelper("helperMissing",function(c){if(2===arguments.length)return e;throw Error("Missing helper: '"+c+"'");});b.registerHelper("blockHelperMissing",function(c,f){var m=f.inverse||function(){},q=f.fn,s=g.call(c);"[object Function]"===s&&(c=c.call(this));return!0===c?q(this):!1===c||null==c?m(this):"[object Array]"===s?0<c.length?b.helpers.each(c,f):m(this):q(c)});b.K=function(){};b.createFrame=Object.create||function(c){b.K.prototype=c;c=new b.K;b.K.prototype=null;return c};b.logger={DEBUG:0,
INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(c,f){if(b.logger.level<=c){var m=b.logger.methodMap[c];"undefined"!==typeof console&&console[m]&&console[m].call(console,f)}}};b.log=function(c,f){b.logger.log(c,f)};b.registerHelper("each",function(c,f){var m=f.fn,q=f.inverse,s=0,e="",d;"[object Function]"===g.call(c)&&(c=c.call(this));f.data&&(d=b.createFrame(f.data));if(c&&"object"===typeof c)if(c instanceof Array)for(var h=c.length;s<h;s++)d&&(d.index=
s),e+=m(c[s],{data:d});else for(h in c)c.hasOwnProperty(h)&&(d&&(d.key=h),e+=m(c[h],{data:d}),s++);0===s&&(e=q(this));return e});b.registerHelper("if",function(c,f){"[object Function]"===g.call(c)&&(c=c.call(this));return!c||b.Utils.isEmpty(c)?f.inverse(this):f.fn(this)});b.registerHelper("unless",function(c,f){return b.helpers["if"].call(this,c,{fn:f.inverse,inverse:f.fn})});b.registerHelper("with",function(c,f){"[object Function]"===g.call(c)&&(c=c.call(this));if(!b.Utils.isEmpty(c))return f.fn(c)});
b.registerHelper("log",function(c,f){var m=f.data&&null!=f.data.level?parseInt(f.data.level,10):1;b.log(m,c)});var d=function(){function c(){this.yy={}}var f={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,
params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,
2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(c,f,b,m,e,d,g){c=d.length-1;switch(e){case 1:return d[c-1];case 2:this.$=new m.ProgramNode([],d[c]);break;case 3:this.$=new m.ProgramNode(d[c-2],d[c]);break;case 4:this.$=new m.ProgramNode(d[c-1],
[]);break;case 5:this.$=new m.ProgramNode(d[c]);break;case 6:this.$=new m.ProgramNode([],[]);break;case 7:this.$=new m.ProgramNode([]);break;case 8:this.$=[d[c]];break;case 9:d[c-1].push(d[c]);this.$=d[c-1];break;case 10:this.$=new m.BlockNode(d[c-2],d[c-1].inverse,d[c-1],d[c]);break;case 11:this.$=new m.BlockNode(d[c-2],d[c-1],d[c-1].inverse,d[c]);break;case 12:this.$=d[c];break;case 13:this.$=d[c];break;case 14:this.$=new m.ContentNode(d[c]);break;case 15:this.$=new m.CommentNode(d[c]);break;case 16:this.$=
new m.MustacheNode(d[c-1][0],d[c-1][1]);break;case 17:this.$=new m.MustacheNode(d[c-1][0],d[c-1][1]);break;case 18:this.$=d[c-1];break;case 19:this.$=new m.MustacheNode(d[c-1][0],d[c-1][1],"&"===d[c-2][2]);break;case 20:this.$=new m.MustacheNode(d[c-1][0],d[c-1][1],!0);break;case 21:this.$=new m.PartialNode(d[c-1]);break;case 22:this.$=new m.PartialNode(d[c-2],d[c-1]);break;case 24:this.$=[[d[c-2]].concat(d[c-1]),d[c]];break;case 25:this.$=[[d[c-1]].concat(d[c]),null];break;case 26:this.$=[[d[c-1]],
d[c]];break;case 27:this.$=[[d[c]],null];break;case 28:this.$=[[d[c]],null];break;case 29:d[c-1].push(d[c]);this.$=d[c-1];break;case 30:this.$=[d[c]];break;case 31:this.$=d[c];break;case 32:this.$=new m.StringNode(d[c]);break;case 33:this.$=new m.IntegerNode(d[c]);break;case 34:this.$=new m.BooleanNode(d[c]);break;case 35:this.$=d[c];break;case 36:this.$=new m.HashNode(d[c]);break;case 37:d[c-1].push(d[c]);this.$=d[c-1];break;case 38:this.$=[d[c]];break;case 39:this.$=[d[c-2],d[c]];break;case 40:this.$=
[d[c-2],new m.StringNode(d[c])];break;case 41:this.$=[d[c-2],new m.IntegerNode(d[c])];break;case 42:this.$=[d[c-2],new m.BooleanNode(d[c])];break;case 43:this.$=[d[c-2],d[c]];break;case 44:this.$=new m.PartialNameNode(d[c]);break;case 45:this.$=new m.PartialNameNode(new m.StringNode(d[c]));break;case 46:this.$=new m.PartialNameNode(new m.IntegerNode(d[c]));break;case 47:this.$=new m.DataNode(d[c]);break;case 48:this.$=new m.IdNode(d[c]);break;case 49:d[c-2].push({part:d[c],separator:d[c-1]});this.$=
d[c-2];break;case 50:this.$=[{part:d[c]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,
8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],
16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],
39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],
36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},
{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],
33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,
11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,
37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],
23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(c,f){throw Error(c);},parse:function(c){var f=[0],b=[null],m=[],d=this.table,e="",g=0,h=0,l=0;this.lexer.setInput(c);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});c=this.lexer.yylloc;m.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var k,y,r,t,v={},u,w;;){r=
f[f.length-1];if(this.defaultActions[r])t=this.defaultActions[r];else{if(null===k||"undefined"==typeof k)k=this.lexer.lex()||1,"number"!==typeof k&&(k=this.symbols_[k]||k);t=d[r]&&d[r][k]}if("undefined"===typeof t||!t.length||!t[0]){var z="";if(!l){w=[];for(u in d[r])this.terminals_[u]&&2<u&&w.push("'"+this.terminals_[u]+"'");z=this.lexer.showPosition?"Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[k]||k)+"'":"Parse error on line "+
(g+1)+": Unexpected "+(1==k?"end of input":"'"+(this.terminals_[k]||k)+"'");this.parseError(z,{text:this.lexer.match,token:this.terminals_[k]||k,line:this.lexer.yylineno,loc:c,expected:w})}}if(t[0]instanceof Array&&1<t.length)throw Error("Parse Error: multiple actions possible at state: "+r+", token: "+k);switch(t[0]){case 1:f.push(k);b.push(this.lexer.yytext);m.push(this.lexer.yylloc);f.push(t[1]);k=null;y?(k=y,y=null):(h=this.lexer.yyleng,e=this.lexer.yytext,g=this.lexer.yylineno,c=this.lexer.yylloc,
0<l&&l--);break;case 2:w=this.productions_[t[1]][1];v.$=b[b.length-w];v._$={first_line:m[m.length-(w||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(w||1)].first_column,last_column:m[m.length-1].last_column};p&&(v._$.range=[m[m.length-(w||1)].range[0],m[m.length-1].range[1]]);r=this.performAction.call(v,e,h,g,this.yy,t[1],b,m);if("undefined"!==typeof r)return r;w&&(f=f.slice(0,-2*w),b=b.slice(0,-1*w),m=m.slice(0,-1*w));f.push(this.productions_[t[1]][0]);b.push(v.$);m.push(v._$);
t=d[f[f.length-2]][f[f.length-1]];f.push(t);break;case 3:return!0}}return!0}},b=function(){return{EOF:1,parseError:function(c,f){if(this.yy.parser)this.yy.parser.parseError(c,f);else throw Error(c);},setInput:function(c){this._input=c;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var c=this._input[0];this.yytext+=c;this.yyleng++;this.offset++;this.match+=c;this.matched+=c;c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return c},unput:function(c){var f=c.length,b=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-f-1);this.offset-=f;c=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,
this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var m=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===c.length?this.yylloc.first_column:0)+c[c.length-b.length].length-b[0].length:this.yylloc.first_column-f};this.options.ranges&&(this.yylloc.range=[m[0],m[0]+this.yyleng-f]);return this},more:function(){this._more=!0;return this},
less:function(c){this.unput(this.match.slice(c))},pastInput:function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(20<c.length?"...":"")+c.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var c=this.match;20>c.length&&(c+=this._input.substr(0,20-c.length));return(c.substr(0,20)+(20<c.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var c=this.pastInput(),f=Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+f+"^"},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var c,f,b;this._more||(this.match=this.yytext="");for(var m=this._currentRules(),d=0;d<m.length&&(!(f=this._input.match(this.rules[m[d]]))||c&&!(f[0].length>c[0].length)||(c=f,b=d,this.options.flex));d++);if(c){if(f=c[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=f.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
c[0].length};this.yytext+=c[0];this.match+=c[0];this.matches=c;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(c[0].length);this.matched+=c[0];c=this.performAction.call(this,this.yy,this,m[b],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var c=this.next();return"undefined"!==typeof c?c:this.lex()},begin:function(c){this.conditionStack.push(c)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(c){this.begin(c)},options:{},performAction:function(c,f,b,m){switch(b){case 0:return f.yytext=
"\\",14;case 1:"\\"!==f.yytext.slice(-1)&&this.begin("mu");"\\"===f.yytext.slice(-1)&&(f.yytext=f.yytext.substr(0,f.yyleng-1),this.begin("emu"));if(f.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==f.yytext.slice(-1)&&this.popState(),"\\"===f.yytext.slice(-1)&&(f.yytext=f.yytext.substr(0,f.yyleng-1)),14;case 4:return f.yytext=f.yytext.substr(0,f.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;
case 12:this.popState();this.begin("com");break;case 13:return f.yytext=f.yytext.substr(3,f.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return f.yytext=f.yytext.substr(1,f.yyleng-2).replace(/\\"/g,'"'),31;case 23:return f.yytext=f.yytext.substr(1,f.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;
case 28:return 36;case 29:return f.yytext=f.yytext.substr(1,f.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},rules:[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,
/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}}}}();f.lexer=b;c.prototype=f;f.Parser=c;return new c}();b.Parser=d;b.parse=function(c){if(c.constructor===
b.AST.ProgramNode)return c;b.Parser.yy=b.AST;return b.Parser.parse(c)};b.AST={};b.AST.ProgramNode=function(c,f){this.type="program";this.statements=c;f&&(this.inverse=new b.AST.ProgramNode(f))};b.AST.MustacheNode=function(c,f,b){this.type="mustache";this.escaped=!b;this.hash=f;b=this.id=c[0];c=this.params=c.slice(1);this.isHelper=(this.eligibleHelper=b.isSimple)&&(c.length||f)};b.AST.PartialNode=function(c,f){this.type="partial";this.partialName=c;this.context=f};b.AST.BlockNode=function(c,f,m,d){if(c.id.original!==
d.original)throw new b.Exception(c.id.original+" doesn't match "+d.original);this.type="block";this.mustache=c;this.program=f;(this.inverse=m)&&!this.program&&(this.isInverse=!0)};b.AST.ContentNode=function(c){this.type="content";this.string=c};b.AST.HashNode=function(c){this.type="hash";this.pairs=c};b.AST.IdNode=function(c){this.type="ID";for(var f="",m=[],d=0,e=0,g=c.length;e<g;e++){var h=c[e].part,f=f+((c[e].separator||"")+h);if(".."===h||"."===h||"this"===h){if(0<m.length)throw new b.Exception("Invalid path: "+
f);".."===h?d++:this.isScoped=!0}else m.push(h)}this.original=f;this.parts=m;this.string=m.join(".");this.depth=d;this.isSimple=1===c.length&&!this.isScoped&&0===d;this.stringModeValue=this.string};b.AST.PartialNameNode=function(c){this.type="PARTIAL_NAME";this.name=c.original};b.AST.DataNode=function(c){this.type="DATA";this.id=c};b.AST.StringNode=function(c){this.type="STRING";this.original=this.string=this.stringModeValue=c};b.AST.IntegerNode=function(c){this.type="INTEGER";this.original=this.integer=
c;this.stringModeValue=Number(c)};b.AST.BooleanNode=function(c){this.type="BOOLEAN";this.bool=c;this.stringModeValue="true"===c};b.AST.CommentNode=function(c){this.type="comment";this.comment=c};var h="description fileName lineNumber message name number stack".split(" ");b.Exception=function(c){for(var f=Error.prototype.constructor.apply(this,arguments),b=0;b<h.length;b++)this[h[b]]=f[h[b]]};b.Exception.prototype=Error();b.SafeString=function(c){this.string=c};b.SafeString.prototype.toString=function(){return this.string.toString()};
var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},p=/[&<>"'`]/g,r=/[&<>"'`]/,l=function(c){return k[c]||"&amp;"};b.Utils={extend:function(c,f){for(var b in f)f.hasOwnProperty(b)&&(c[b]=f[b])},escapeExpression:function(c){if(c instanceof b.SafeString)return c.toString();if(null==c||!1===c)return"";c=c.toString();return r.test(c)?c.replace(p,l):c},isEmpty:function(c){return c||0===c?"[object Array]"===g.call(c)&&0===c.length?!0:!1:!0}};var y=b.Compiler=function(){};y.prototype=
{compiler:y,disassemble:function(){for(var c=this.opcodes,f,b=[],d,e,g=0,h=c.length;g<h;g++)if(f=c[g],"DECLARE"===f.opcode)b.push("DECLARE "+f.name+"="+f.value);else{d=[];for(var l=0;l<f.args.length;l++)e=f.args[l],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),d.push(e);b.push(f.opcode+" "+d.join(" "))}return b.join("\n")},equals:function(c){var f=this.opcodes.length;if(c.opcodes.length!==f)return!1;for(var b=0;b<f;b++){var d=this.opcodes[b],e=c.opcodes[b];if(d.opcode!==e.opcode||d.args.length!==
e.args.length)return!1;for(var g=0;g<d.args.length;g++)if(d.args[g]!==e.args[g])return!1}f=this.children.length;if(c.children.length!==f)return!1;for(b=0;b<f;b++)if(!this.children[b].equals(c.children[b]))return!1;return!0},guid:0,compile:function(c,f){this.children=[];this.depths={list:[]};this.options=f;var b=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(b)for(var d in b)this.options.knownHelpers[d]=b[d];
return this.program(c)},accept:function(c){return this[c.type](c)},program:function(c){c=c.statements;var f;this.opcodes=[];for(var b=0,d=c.length;b<d;b++)f=c[b],this[f.type](f);this.isSimple=1===d;this.depths.list=this.depths.list.sort(function(c,f){return c-f});return this},compileProgram:function(c){c=(new this.compiler).compile(c,this.options);var f=this.guid++,b;this.usePartial=this.usePartial||c.usePartial;this.children[f]=c;for(var d=0,e=c.depths.list.length;d<e;d++)b=c.depths.list[d],2>b||
this.addDepth(b-1);return f},block:function(c){var f=c.mustache,b=c.program;c=c.inverse;b&&(b=this.compileProgram(b));c&&(c=this.compileProgram(c));var d=this.classifyMustache(f);"helper"===d?this.helperMustache(f,b,c):"simple"===d?(this.simpleMustache(f),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(f,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));
this.opcode("append")},hash:function(c){c=c.pairs;var f,b;this.opcode("pushHash");for(var d=0,e=c.length;d<e;d++)f=c[d],b=f[1],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this.accept(b),this.opcode("assignToHash",f[0]);this.opcode("popHash")},partial:function(c){var f=c.partialName;this.usePartial=!0;c.context?this.ID(c.context):this.opcode("push","depth0");this.opcode("invokePartial",f.name);
this.opcode("append")},content:function(c){this.opcode("appendContent",c.string)},mustache:function(c){var f=this.options,b=this.classifyMustache(c);"simple"===b?this.simpleMustache(c):"helper"===b?this.helperMustache(c):this.ambiguousMustache(c);c.escaped&&!f.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(c,f,b){c=c.id;var d=c.parts[0],e=null!=f||null!=b;this.opcode("getContext",c.depth);this.opcode("pushProgram",f);this.opcode("pushProgram",b);this.opcode("invokeAmbiguous",
d,e)},simpleMustache:function(c){c=c.id;"DATA"===c.type?this.DATA(c):c.parts.length?this.ID(c):(this.addDepth(c.depth),this.opcode("getContext",c.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(c,f,b){f=this.setupFullMustacheParams(c,f,b);c=c.id.parts[0];if(this.options.knownHelpers[c])this.opcode("invokeKnownHelper",f.length,c);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+c);this.opcode("invokeHelper",
f.length,c)}},ID:function(c){this.addDepth(c.depth);this.opcode("getContext",c.depth);c.parts[0]?this.opcode("lookupOnContext",c.parts[0]):this.opcode("pushContext");for(var f=1,b=c.parts.length;f<b;f++)this.opcode("lookup",c.parts[f])},DATA:function(c){this.options.data=!0;if(c.id.isScoped||c.id.depth)throw new b.Exception("Scoped data references are not supported: "+c.original);this.opcode("lookupData");c=c.id.parts;for(var f=0,d=c.length;f<d;f++)this.opcode("lookup",c[f])},STRING:function(c){this.opcode("pushString",
c.string)},INTEGER:function(c){this.opcode("pushLiteral",c.integer)},BOOLEAN:function(c){this.opcode("pushLiteral",c.bool)},comment:function(){},opcode:function(c){this.opcodes.push({opcode:c,args:[].slice.call(arguments,1)})},declare:function(c,f){this.opcodes.push({opcode:"DECLARE",name:c,value:f})},addDepth:function(c){if(isNaN(c))throw Error("EWOT");0===c||this.depths[c]||(this.depths[c]=!0,this.depths.list.push(c))},classifyMustache:function(c){var f=c.isHelper,b=c.eligibleHelper,d=this.options;
b&&!f&&(d.knownHelpers[c.id.parts[0]]?f=!0:d.knownHelpersOnly&&(b=!1));return f?"helper":b?"ambiguous":"simple"},pushParams:function(c){for(var f=c.length,b;f--;)if(b=c[f],this.options.stringParams)b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type);else this[b.type](b)},setupMustacheParams:function(c){var f=c.params;this.pushParams(f);c.hash?this.hash(c.hash):this.opcode("emptyHash");return f},setupFullMustacheParams:function(c,
f,b){var d=c.params;this.pushParams(d);this.opcode("pushProgram",f);this.opcode("pushProgram",b);c.hash?this.hash(c.hash):this.opcode("emptyHash");return d}};b.precompile=function(c,f){if(null==c||"string"!==typeof c&&c.constructor!==b.AST.ProgramNode)throw new b.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+c);f=f||{};"data"in f||(f.data=!0);var d=b.parse(c),d=(new y).compile(d,f);return(new b.JavaScriptCompiler).compile(d,f)};b.compile=function(c,f){if(null==
c||"string"!==typeof c&&c.constructor!==b.AST.ProgramNode)throw new b.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);f=f||{};"data"in f||(f.data=!0);var d;return function(q,g){if(!d){var n=b.parse(c),n=(new y).compile(n,f),n=(new b.JavaScriptCompiler).compile(n,f,e,!0);d=b.template(n)}return d.call(this,q,g)}};var t=function(c){this.value=c},u=b.JavaScriptCompiler=function(){};u.prototype={nameLookup:function(c,f){return/^[0-9]+$/.test(f)?c+"["+f+"]":u.isValidJavaScriptVariableName(f)?
c+"."+f:c+"['"+f+"']"},appendToBuffer:function(c){return this.environment.isSimple?"return "+c+";":{appendToBuffer:!0,content:c,toString:function(){return"buffer += "+c+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(c,f,d,e){this.environment=c;this.options=f||{};b.log(b.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();
this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(c,f);c=c.opcodes;this.i=0;for(d=c.length;this.i<d;this.i++)f=c[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(){this.i+=1},preamble:function(){var c=[];if(this.isChild)c.push("");else{var f=this.namespace,b="helpers = this.merge(helpers, "+
f+".helpers);";this.environment.usePartial&&(b=b+" partials = this.merge(partials, "+f+".partials);");this.options.data&&(b+=" data = data || {};");c.push(b)}this.environment.isSimple?c.push(""):c.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=c},createFunctionContext:function(c){var f=this.stackVars.concat(this.registers.list);0<f.length&&(this.source[1]=this.source[1]+", "+f.join(", "));if(!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&
(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");f=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];d=0;for(var e=this.environment.depths.list.length;d<e;d++)f.push("depth"+this.environment.depths.list[d]);d=this.mergeSource();this.isChild||
(e=b.COMPILER_REVISION,d="this.compilerInfo = ["+e+",'"+b.REVISION_CHANGES[e]+"'];\n"+d);if(c)return f.push(d),Function.apply(this,f);c="function "+(this.name||"")+"("+f.join(",")+") {\n "+d+"}";b.log(b.logger.DEBUG,c+"\n\n");return c},mergeSource:function(){for(var c="",f,b=0,d=this.source.length;b<d;b++){var g=this.source[b];g.appendToBuffer?f=f?f+"\n + "+g.content:g.content:(f&&(c+="buffer += "+f+";\n ",f=e),c+=g+"\n ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var c=["depth0"];this.setupParams(0,c);this.replaceStack(function(f){c.splice(1,0,f);return"blockHelperMissing.call("+c.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var c=["depth0"];this.setupParams(0,c);var f=this.topStack();c.splice(1,0,f);c[c.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+f+" = blockHelperMissing.call("+c.join(", ")+"); }")},appendContent:function(c){this.source.push(this.appendToBuffer(this.quotedString(c)))},
append:function(){this.flushInline();var c=this.popStack();this.source.push("if("+c+" || "+c+" === 0) { "+this.appendToBuffer(c)+" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(c){this.lastContext!==c&&(this.lastContext=c)},lookupOnContext:function(c){this.push(this.nameLookup("depth"+
this.lastContext,c,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(c){return"typeof "+c+" === functionType ? "+c+".apply(depth0) : "+c})},lookup:function(c){this.replaceStack(function(f){return f+" == null || "+f+" === false ? "+f+" : "+this.nameLookup(f,c,"context")})},lookupData:function(c){this.push("data")},pushStringParam:function(c,f){this.pushStackLiteral("depth"+
this.lastContext);this.pushString(f);"string"===typeof c?this.pushString(c):this.pushStackLiteral(c)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var c=this.hash;this.hash=e;this.options.stringParams&&(this.register("hashContexts","{"+c.contexts.join(",")+"}"),this.register("hashTypes","{"+c.types.join(",")+"}"));this.push("{\n "+
c.values.join(",\n ")+"\n }")},pushString:function(c){this.pushStackLiteral(this.quotedString(c))},push:function(c){this.inlineStack.push(c);return c},pushLiteral:function(c){this.pushStackLiteral(c)},pushProgram:function(c){null!=c?this.pushStackLiteral(this.programExpression(c)):this.pushStackLiteral(null)},invokeHelper:function(c,f){this.context.aliases.helperMissing="helpers.helperMissing";var b=this.lastHelper=this.setupHelper(c,f,!0),d=this.nameLookup("depth"+this.lastContext,f,"context");this.push(b.name+
" || "+d);this.replaceStack(function(c){return c+" ? "+c+".call("+b.callParams+") : helperMissing.call("+b.helperMissingParams+")"})},invokeKnownHelper:function(c,b){var d=this.setupHelper(c,b);this.push(d.name+".call("+d.callParams+")")},invokeAmbiguous:function(c,b){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var d=this.setupHelper(0,c,b),e=this.lastHelper=this.nameLookup("helpers",c,"helper"),g=this.nameLookup("depth"+this.lastContext,c,"context"),n=this.nextStack();
this.source.push("if ("+n+" = "+e+") { "+n+" = "+n+".call("+d.callParams+"); }");this.source.push("else { "+n+" = "+g+"; "+n+" = typeof "+n+" === functionType ? "+n+".apply(depth0) : "+n+"; }")},invokePartial:function(c){c=[this.nameLookup("partials",c,"partial"),"'"+c+"'",this.popStack(),"helpers","partials"];this.options.data&&c.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+c.join(", ")+")")},assignToHash:function(c){var b=this.popStack(),d,e;this.options.stringParams&&
(e=this.popStack(),d=this.popStack());var g=this.hash;d&&g.contexts.push("'"+c+"': "+d);e&&g.types.push("'"+c+"': "+e);g.values.push("'"+c+"': ("+b+")")},compiler:u,compileChildren:function(c,b){for(var d=c.children,e,g,n=0,h=d.length;n<h;n++){e=d[n];g=new this.compiler;var l=this.matchExistingProgram(e);null==l?(this.context.programs.push(""),l=this.context.programs.length,e.index=l,e.name="program"+l,this.context.programs[l]=g.compile(e,b,this.context),this.context.environments[l]=e):(e.index=l,
e.name="program"+l)}},matchExistingProgram:function(c){for(var b=0,d=this.context.environments.length;b<d;b++){var e=this.context.environments[b];if(e&&e.equals(c))return b}},programExpression:function(c){this.context.aliases.self="this";if(null==c)return"self.noop";var b=this.environment.children[c];c=b.depths.list;for(var d=[b.index,b.name,"data"],e=0,g=c.length;e<g;e++)b=c[e],1===b?d.push("depth0"):d.push("depth"+(b-1));return(0===c.length?"self.program(":"self.programWithDepth(")+d.join(", ")+
")"},register:function(c,b){this.useRegister(c);this.source.push(c+" = "+b+";")},useRegister:function(c){this.registers[c]||(this.registers[c]=!0,this.registers.list.push(c))},pushStackLiteral:function(c){return this.push(new t(c))},pushStack:function(c){this.flushInline();var b=this.incrStack();c&&this.source.push(b+" = "+c+";");this.compileStack.push(b);return b},replaceStack:function(c){var b="",d=this.isInline(),e;d?(e=this.popStack(!0),e instanceof t?e=e.value:(b=this.stackSlot?this.topStackName():
this.incrStack(),b="("+this.push(b)+" = "+e+"),",e=this.topStack())):e=this.topStack();c=c.call(this,e);d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+b+c+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+b+c+");"));return e},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+
this.stackSlot},flushInline:function(){var c=this.inlineStack;if(c.length){this.inlineStack=[];for(var b=0,d=c.length;b<d;b++){var e=c[b];e instanceof t?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(c){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!c&&d instanceof t)return d.value;b||this.stackSlot--;return d},topStack:function(c){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];
return!c&&b instanceof t?b.value:b},quotedString:function(c){return'"'+c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(c,b,d){var e=[];this.setupParams(c,e,d);c=this.nameLookup("helpers",b,"helper");return{params:e,name:c,callParams:["depth0"].concat(e).join(", "),helperMissingParams:d&&["depth0",this.quotedString(b)].concat(e).join(", ")}},setupParams:function(c,b,d){var e=[],
g=[],n=[],h,l;e.push("hash:"+this.popStack());h=this.popStack();if((l=this.popStack())||h)l||(this.context.aliases.self="this",l="self.noop"),h||(this.context.aliases.self="this",h="self.noop"),e.push("inverse:"+h),e.push("fn:"+l);for(l=0;l<c;l++)h=this.popStack(),b.push(h),this.options.stringParams&&(n.push(this.popStack()),g.push(this.popStack()));this.options.stringParams&&(e.push("contexts:["+g.join(",")+"]"),e.push("types:["+n.join(",")+"]"),e.push("hashContexts:hashContexts"),e.push("hashTypes:hashTypes"));
this.options.data&&e.push("data:data");e="{"+e.join(",")+"}";d?(this.register("options",e),b.push("options")):b.push(e);return b.join(", ")}};for(var d="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),
w=u.RESERVED_WORDS={},v=0,z=d.length;v<z;v++)w[d[v]]=!0;u.isValidJavaScriptVariableName=function(c){return!u.RESERVED_WORDS[c]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(c)?!0:!1};b.VM={template:function(c){var f={escapeExpression:b.Utils.escapeExpression,invokePartial:b.VM.invokePartial,programs:[],program:function(c,f,d){var e=this.programs[c];d?e=b.VM.program(c,f,d):e||(e=this.programs[c]=b.VM.program(c,f));return e},merge:function(c,f){var d=c||f;c&&f&&(d={},b.Utils.extend(d,f),b.Utils.extend(d,c));return d},
programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var g=c.call(f,b,d,e.helpers,e.partials,e.data),h=f.compilerInfo||[],l=h[0]||1,k=b.COMPILER_REVISION;if(l!==k){if(l<k)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+b.REVISION_CHANGES[k]+") or downgrade your runtime to an older version ("+b.REVISION_CHANGES[l]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
h[1]+").";}return g}},programWithDepth:function(c,b,d){var e=Array.prototype.slice.call(arguments,3),g=function(c,g){g=g||{};return b.apply(this,[c,g.data||d].concat(e))};g.program=c;g.depth=e.length;return g},program:function(c,b,d){var e=function(c,e){e=e||{};return b(c,e.data||d)};e.program=c;e.depth=0;return e},noop:function(){return""},invokePartial:function(c,f,d,g,h,l){g={helpers:g,partials:h,data:l};if(c===e)throw new b.Exception("The partial "+f+" could not be found");if(c instanceof Function)return c(d,
g);if(b.compile)return h[f]=b.compile(c,{data:l!==e}),h[f](d,g);throw new b.Exception("The partial "+f+" could not be compiled when running in runtime-only mode");}};b.template=b.VM.template;"object"===typeof module&&module.exports?module.exports=b:"function"===typeof define&&define.amd?define(function(){return b}):this.Handlebars=b}).call(this);window.appstorm=window.a=function(){var e={},b={url:"",contains:function(b,e){if(b instanceof Array)for(var g=b.length;g--;){if(b[g]===e)return!0}else if(this.isObject(b))return e in b;return!1},clone:function(b){if(a.isObject(b)){if(a.isArray(b))for(var e=b.length,g=Array(e),p=0;p<e;++p)g[p]=a.clone(b[p]);else for(e in g={},a.isFunction(b.constructor)&&(g=new b.constructor),a.isObject(b.prototype)&&(g.prototype=b.prototype),b)g[e]=a.clone(b[e]);return g}return b},isNumber:function(b){return!isNaN(parseFloat(b))&&
isFinite(b)},isObject:function(b){return"object"===typeof b&&null!==b},isString:function(b){return"string"===typeof b},isFunction:function(b){return"function"===typeof b},isNull:function(b){return"undefined"===typeof b||null===b},isBoolean:function(b){return"boolean"===typeof b},isArray:function(b){return b instanceof Array},setDefaultAjaxOptions:function(b){a.isObject(b)&&(e=b)},getDefaultAjaxOptions:function(){return e}},g=document.getElementById("a-core");g&&"undefined"!==typeof g.src&&(b.url=
g.src.replace(/\/[^/]*$/,"/"));return b}();a.ajax=function(e,b,g){var d=a.getDefaultAjaxOptions();this.params={url:"",method:"GET",type:"raw",async:!0,cache:!1,data:{},header:{}};for(var h in this.params)"data"!==h&&"header"!==h&&(h in d&&typeof d[h]===typeof this.params[h]&&(this.params[h]=d[h]),h in e&&typeof e[h]===typeof this.params[h]&&(this.params[h]=e[h]));if(a.isObject(d.data))for(var k in d.data)this.params.data[k]=d.data[k];if(a.isObject(d.header))for(var p in d.header)this.params.header[p]=d.header[p];if(a.isString(e.data))this.params.data=
e.data;else if(a.isObject(e.data))for(var r in e.data)this.params.data[r]=e.data[r];if(a.isObject(e.header))for(var l in e.header)this.params.header[l]=e.header[l];this.success=a.isFunction(b)?b:function(){};this.error=a.isFunction(g)?g:function(){};this.request=null;if(a.isNull(window.XMLHttpRequest)){e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(var y in e)try{this.request=new ActiveXObject(e[y])}catch(t){}}else this.request=new XMLHttpRequest};
a.ajax.prototype.parseResult=function(e,b){if(204===b.status)return"";var g=e.type.toLowerCase();return"json"===g?a.parser.json.parse(b.responseText):"xml"===g?b.responseXML:b.responseText};a.ajax.prototype.abort=function(){try{this.request.abort()}catch(e){}};
a.ajax.prototype.send=function(){var e=this.params.method.toUpperCase();if(!1===this.params.cache){var b=Math.floor(1E5*Math.random())+1;try{this.params.data.cachedisable=b}catch(g){}}b="";if(a.isString(this.params.data))b=this.params.data;else{for(var d in this.params.data)b+=encodeURIComponent(d)+"="+encodeURIComponent(this.params.data[d])+"&";b=b.slice(0,-1)}var h=this.params.url;d=this.params.async;"GET"===e&&""!==b&&(h+="?"+b);if(!0===d){var k={success:this.success,params:this.params,error:this.error,
request:this.request,parseResult:this.parseResult};this.request.onreadystatechange=function(){if(4===k.request.readyState){var b=200<=k.request.status&&400>k.request.status;b?k.success(k.parseResult(k.params,k.request),k.request.status):k.error(h,k.request.status);a.message.dispatch("a.ajax",{success:b,status:k.request.status,url:k.params.url,method:k.method,params:k.params})}}}this.request.open(e,h,d);var p=["Content-Type","Content-type","content-type"],r=!1,l;for(l in this.params.header)this.request.setRequestHeader(l,
this.params.header[l]),!r&&a.contains(p,l)&&(r=!0);r||"POST"!==e||this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.request.send(b);return!1===d?this.parseResult(this.params,this.request):"No return in async mode"};a.console=function(){function e(e,d,h,k){a.isArray(b[e])||(e="log");b[e].push(d);if(!a.isNull(window.console)&&a.isFunction(window.console.log)&&!1!==k)switch(a.environment.get("console")){case "error":if("error"!==e)break;case "warning":case "warn":if("warn"!==e&&"error"!==e)break;case "info":if("log"===e)break;default:k=!0;var p=!1;if(a.isString(d)&&0<=d.indexOf(":"))for(var r=d.substr(0,d.indexOf(":")).split("."),l=r.length;l--;){var y="verbose-"+r.join("."),y=a.environment.get(y);if(!a.isNull(y)){p=
!0;k=y<h?!1:!0;break}r.pop()}p||(a.isNull(a.environment.get("verbose"))||a.isNull(h))||parseInt(a.environment.get("verbose"),10)<h&&(k=!1);if(k)window.console[e](d)}for(;2E3<b[e].length;)b[e].shift()}var b={log:[],warn:[],info:[],error:[]};return{log:function(b,d,h){e("log",b,d,h)},warn:function(b,d,h){e("warn",b,d,h)},info:function(b,d,h){e("info",b,d,h)},error:function(b,d,h){e("error",b,d,h)},trace:function(e){return a.isString(e)&&e in b?b[e]:b},clear:function(){b={log:[],warn:[],info:[],error:[]}}}}();a.environment=function(){var e={verbose:2,console:"log"};return{get:function(b){return b in e?e[b]:null},set:function(b,g){a.isNull(b)||(a.console.log("a.environment.set: add item (key: "+b+", value: "+g+")",3),e[b]=g,a.message.dispatch("a.environment.add",{key:b,value:g}))},remove:function(b){a.isNull(e[b])||(a.console.log("a.environment.remove: remove item (key: "+b+")",3),delete e[b],a.message.dispatch("a.environment.remove",{key:b}))},clear:function(){e={verbose:2,console:"log"}}}}();a.loader=function(){function e(b,e){if(a.isNull(b))return!1;for(var g=0,h=d.length;g<h;++g)if(d[g]===b)return a.isFunction(e)&&e(),!0;return!1}function b(b,e,g,k,t,u){for(var w in e)b.setAttribute(w,e[w]);!a.isNull(t)&&t.id&&b.setAttribute("id",t.id);var v=!1,z=function(c){v||(v=!0,a.isFunction(g)&&g(b),(a.isNull(t)||!1!==t.cache)&&d.push(k))};b.addEventListener?b.addEventListener("load",z,!1):b.readyState?b.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||z()}:
b.onload=z;if("text/css"===e.type){var c=document.styleSheets.length;h++;var f=a.timer.add(function(){document.styleSheets.length>c+h-1&&(h--,a.timer.remove(f),z())},null,50)}document.getElementsByTagName("head")[0].appendChild(b)}function g(b,e,g,h){var t={url:b,method:"GET",type:"raw",async:!0,cache:!0,data:{},header:{}};a.console.log("a.loader: load resource (url: "+b+")",3);a.isNull(g)||(a.contains(k,g.method)&&(t.method=g.method),a.isNull(g.type)||"json"!==g.type&&"xml"!==g.type||(t.type=g.type),
a.isObject(g.data)&&(t.data=g.data),a.isObject(g.header)&&(t.header=g.header),a.isBoolean(g.cache)&&(t.cache=g.cache));h=a.isFunction(h)?h:function(){};(new a.ajax(t,function(h,k){a.isFunction(e)&&e(h,k);(a.isNull(g)||!1!==g.cache)&&d.push(b)},h)).send()}var d=[],h=0,k="GET POST PUT DELETE HEAD OPTIONS".split(" ");return{js:function(b,d,g,h){e(b,d)||this.jsonp(b,d,g,h)},jsonp:function(d,e,g,h){var k=a.isObject(g)&&g.type?g.type:"text/javascript";a.console.log("a.loader: load resource (url: "+d+")",
3);b(document.createElement("script"),{type:k,src:d},e,d,g,h)},json:function(b,d,e,h){a.isObject(e)||(e={});e.type="json";a.isObject(e.header)||(e.header={});e.header.accept="application/json, text/javascript";g(b,d,e,h)},xml:function(b,d,e,h){a.isObject(e)||(e={});e.type="xml";a.isObject(e.header)||(e.header={});e.header.accept="application/xml, text/xml";g(b,d,e,h)},css:function(d,g,h,k){e(d,g)||(a.console.log("a.loader: load resource (url: "+d+")",3),b(document.createElement("link"),{rel:"stylesheet",
type:"text/css",href:d},g,d,h,k))},html:function(b,d,h,k){e(b,d)||(a.isObject(h)||(h={}),h.type="raw",!0===a.environment.get("debug")&&(h.cache=!1),a.isObject(h.header)||(h.header={}),h.header.accept="text/html",g(b,d,h,k))},javafx:function(b,d,g,h){if(a.isNull(g)||a.isNull(g.code)||a.isNull(g.id))a.console.warn("a.loader.javafx : the system need args.code and args.name setted to be able to load any javafx resource... This uri will not be loaded : "+b,3);else if(!e(b,d)){this.js("http://dl.javafx.com/"+
(g.version?g.version:"1.3")+"/dtfx.js",function(){javafx({archive:b,width:g.width||1,height:g.height||1,code:g.code,name:g.id})});var k=null,u=2E3,k=a.timer.add(function(){0<u--&&!a.isNull(document.getElementById(g.id).Packages)?(a.timer.remove(k),a.isFunction(d)&&d()):0>=u&&a.isFunction(h)&&h(b,408)},null,200)}},flash:function(b,d,g,h){a.isNull(g)||a.isNull(g.rootId)||a.isNull(g.id)?a.console.warn("a.loader.flash : the system need args parameters : rootId, id, setted to be able to load any flash resource... This uri will not be loaded : "+
b,3):e(b,d)||this.js(a.url+"vendor/storage/flash/swfobject.js",function(){swfobject.embedSWF(b,g.rootId,"100%","100%","10.0.0",a.url+"vendor/storage/flash/expressInstall.swf",g.flashvars,g.params,{id:g.id},function(e){!1===e.success&&a.isFunction(h)?h(b,408):!0===e.success&&a.isFunction(d)&&setTimeout(d,500)})})},silverlight:function(b,d,g,h){if(a.isNull(g)||a.isNull(g.rootId)||a.isNull(g.id))a.console.warn("a.loader.silverlight : the system need args parameters : rootId, id, setted to be able to load any silverlight resource... This uri will not be loaded : "+
b,3);else if(!e(b,d)){a.console.log("a.loader: load resource (url: "+b+")",3);var k=document.createElement("object");k.id=g.id;k.data="data:application/x-silverlight-2,";k.type="application/x-silverlight-2";a.isArray(g.params)||(g.params=[]);g.params.push({name:"source",value:b});for(var u=0,w=g.params.length;u<w;++u){var v=document.createElement("param");v.name=g.params[u].name;v.value=g.params[u].value;k.appendChild(v)}document.getElementById(g.rootId).appendChild(k);var z=null,c=2E3,z=a.timer.add(function(){0<
c--&&!a.isNull(document.getElementById(g.id).Content)?(a.timer.remove(z),d()):0>=c&&a.isFunction(h)&&h(b,408)},null,200)}},trace:function(){return d}}}();a.eventEmitter=function(){function e(e){for(var d in b.__list)1>b.__list[d].length&&delete b.__list[d]}var b=function(){this.__list={};this.__base="a.message"};b.prototype.setName=function(b){this.__base=""+b};b.prototype.addListener=function(b,d){a.isFunction(d)?(a.isNull(this.__list[b])&&(this.__list[b]=[]),this.__list[b].push(d),this.dispatch(this.__base+".add",{type:b,fct:d})):a.console.warn(this.__base+".addListener : unable to bind function, this is not a function",1)};b.prototype.addListenerOnce=
function(b,d){var e=this;this.addListener(b,function(k){d(k);e.removeListener(b,arguments.callee)})};b.prototype.removeListener=function(b,d){if(!a.isNull(this.__list[b])){var h=this.__list[b].length;if(a.isFunction(d))for(;h--;)this.__list[b][h]===d&&this.__list[b].splice(h,1);this.dispatch(this.__base+".remove",{type:b,fct:d});e(b)}};b.prototype.removeAllListeners=function(b){a.isNull(this.__list[b])||(this.__list[b]=[],e(b))};b.prototype.clear=function(){var b=this.__base+".clear",d;for(d in this.__list)d!==
b&&delete this.__list[d];this.dispatch(b,{})};b.prototype.dispatch=function(b,d){var e=this.__list[b];if(!a.isNull(e))for(var k=0,p=e.length;k<p;++k)(function(b){setTimeout(function(){b(d)},0)})(e[k])};return b}();a.message=new a.eventEmitter;a.message.setName=function(){};a.parser={json:{stringify:function(e){try{return JSON.stringify(e)}catch(b){return a.console.error("a.parser.json.stringify : unable to stringify the value : "+e,1),""}},parse:function(e){try{return JSON.parse(e)}catch(b){return a.console.error("a.parser.json.parse : unable to parse the value : "+e,1),null}}},xml:{stringify:function(e){if(!a.isNull(e)&&!a.isNull(e.xml))return e.xml;if(!a.isNull(window.XMLSerializer))try{return(new window.XMLSerializer).serializeToString(e)}catch(b){return a.console.error("a.parser.xml.stringify : unable to stringify the value : "+
e,1),""}a.console.error("a.parser.xml.stringify : unable to find any parser available",1);return""},parse:function(e){if(!a.isNull(window.ActiveXObject)){for(var b=null,g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0"],d=0,h=g.length;d<h;++d)try{b=new ActiveXObject(g[d])}catch(k){}b.async=!1;b.loadXML(e);return 0!=b.parseError.errorCode?(a.console.error("a.parser.xml.parse : error while parsing content : "+b.parseError.reason,1),null):b}if(!a.isNull(window.DOMParser))return(new DOMParser).parseFromString(e,
"text/xml");a.console.error("a.parser.xml.parse : unable to find any parser available",1);return null}}};a.timer=function(){var e={};setInterval(function(){a.message.dispatch("a.timer.tick",{});for(var b in e){var g=e[b];g.current+=50;if(g.current>=g.timeout&&(g.current=0,a.isFunction(g.fct))){var d=a.isObject(g.scope)?g.scope:null;g.fct.call(d,null)}}},50);return{add:function(b,g,d){var h;for(h=Math.floor(1E6*Math.random());!a.isNull(e[h]);)h=Math.floor(1E6*Math.random());if(!a.isNumber(d)||0>=d)d=1E3,a.console.error("The timeout has not been setted properly into timer, timeout has been setted to 1000ms",
1);e[h]={fct:b,scope:g,timeout:d,current:0};return h},once:function(b,e,d){var h=this.add(function(){a.isFunction(b)&&b.call(this,null);a.timer.remove(h)},e,d);return h},get:function(b){b=e[b];return a.isNull(b)?null:b},remove:function(b){return a.isNull(e[b])?!1:(delete e[b],!0)},clear:function(){e={}}}}();a.callback={};
a.callback.synchronizer=function(){function e(){r--;0>=r&&!1===u?(t=!1,v.prototype.dispatch("a.callback.synchronizer.success",{}),l(w)):0>=r&&(t=u=!1)}function b(){!0===t&&(u=!0,t=!1,v.prototype.dispatch("a.callback.synchronizer.error",{}),y.apply(this,arguments))}function g(b,f){w[b]=f}function d(b){a.isObject(b)&&(w=b)}function h(b){return a.isNull(w[b])?null:w[b]}function k(){return w}var p=[],r=0,l=function(){return!0},y=function(){return!0},t=!1,u=!1,w={},v=function(){};v.prototype=new a.eventEmitter;
v.prototype.constructor=this;v.prototype.setSuccess=function(b){l=a.isFunction(b)?b:l};v.prototype.setDone=v.prototype.setSuccess;v.prototype.setFail=function(b){y=a.isFunction(b)?b:y};v.prototype.setError=v.prototype.setFail;v.prototype.addCallback=function(){for(var c=[],c=!a.isNull(arguments[0])&&a.isArray(arguments[0])?arguments[0]:arguments,f=0,m=c.length;f<m;++f){var q=c[f];a.isFunction(q)&&(r++,p.push(q),!0===t&&q({success:e,done:e,getData:h,getFullData:k,setData:g,setFullData:d,fail:b,error:b}))}!0===
t&&a.console.warn("a.callback.synchronizer.addCallback : you should not add/remove callback when synchronizer is running",1)};v.prototype.removeCallback=function(b){for(var f=p.length-1;0<=f;--f)p[f]===b&&(!0===t&&a.console.warn("a.callback.synchronizer.removeCallback : you should not add/remove callback when synchronizer is running",1),r--,p.splice(f,1))};v.prototype.start=function(c,f){if(0>=r)e();else{t=!0;w={};for(var m=0,q=p.length;m<q;++m)p[m]({success:e,done:e,getData:h,getFullData:k,setData:g,
setFullData:d,fail:b,error:b},f);a.isNumber(c)&&0<c?setTimeout(function(){var f=parseInt(c,10);v.prototype.dispatch("a.callback.synchronizer.error",{timeout:f});b({timeout:f})},c):v.prototype.dispatch("a.callback.synchronizer.start",{timeout:-1})}};v.prototype.isRunning=function(){return t};var z=new v;z.setName("a.callback.synchronizer");return z};
a.callback.chainer=function(){function e(){0==y.length?(y=[],r(t),u.prototype.dispatch("a.callback.chainer.success",{})):u.prototype.start(arguments)}function b(){y=[];l.apply(this,arguments);u.prototype.dispatch("a.callback.chainer.error",{})}function g(b,d){t[b]=d}function d(b){a.isObject(b)&&(t=b)}function h(b){return a.isNull(t[b])?null:t[b]}function k(){return t}var p=[],r=function(){return!0},l=function(){return!0},y=[],t={},u=function(){};u.prototype=new a.eventEmitter;u.prototype.constructor=
this;u.prototype.setSuccess=function(b){r=a.isFunction(b)?b:r};u.prototype.setDone=u.prototype.setSuccess;u.prototype.setFail=function(b){l=a.isFunction(b)?b:l};u.prototype.setError=u.prototype.setFail;u.prototype.addCallback=function(){for(var b=[],b=!a.isNull(arguments[0])&&a.isArray(arguments[0])?arguments[0]:arguments,d=0,c=b.length;d<c;++d){var f=b[d];a.isFunction(f)&&(p.push(f),!0===u.prototype.isRunning()&&y.push(f))}!0===u.prototype.isRunning()&&a.console.warn("a.synchronizer.addCallback : you should not add/remove callback when synchronizer is running",
1)};u.prototype.removeCallback=function(b){for(var d=p.length-1;0<=d;--d)if(p[d]===b){if(!0===u.prototype.isRunning()){for(var c=y.length-1;0<=c;--c)y[c]===b&&y.splice(c,1);a.console.warn("a.synchronizer.removeCallback : you should not add/remove callback when synchronizer is running",1)}p.splice(d,1)}};u.prototype.start=function(){if(0==y.length){for(var l=0,r=p.length;l<r;++l)y.push(p[l]);u.prototype.dispatch("a.callback.chainer.start",{});t={};0==y.length&&e()}l=y.shift();a.isFunction(l)&&l({success:e,
done:e,getData:h,getFullData:k,setData:g,setFullData:d,fail:b,error:b},arguments)};u.prototype.isRunning=function(){return 0==y.length?!1:!0};var w=new u;w.setName("a.callback.chainer");return w};a.form=function(){function e(b,d){return a.isNull(b.getAttribute)?null:b.getAttribute(d)}function b(b){for(var d=[],e=b.length;e--;)d.push(b[e]);return d}function g(b){var d=e(b,"name");if(a.isNull(d)||""===d)if(d=e(b,"id"),a.isNull(d)||""===d)d=e(b,"class");return d}function d(d){var g=d.getElementsByTagName("input"),h=d.getElementsByTagName("textarea");d=d.getElementsByTagName("select");for(var g=b(g),k=g.length;k--;){var p=e(g[k],"type");a.contains(l,p)||a.isNull(p)||g.splice(k,1)}return g.concat(b(h),
b(d))}function h(b,d,g,h){var k="";a.isNull(g)||""===g||(k=e(b,"data-error-"+g));if(a.isNull(k)||""===k)k=e(b,"data-error");(a.isNull(k)||""===k)&&a.console.warn("A data-error tag has not been setted for "+d+" with value "+h+", can't proceed error show",3);a.isNull(a.language)||(k=a.language.getSingleTranslation(k,{name:g,value:h}));return{el:b,id:d,error:k}}var k="text search url tel email password".split(" "),p="number range date datetime datetime-local month time week".split(" "),r=k.concat(p,
["number","checkbox","radio","file"]),l=p.concat(k,["color","checkbox","file","hidden","radio"]);return{skipNoValidate:!1,get:function(b){b=d(b);for(var h={},k=b.length;k--;){var l=b[k],p=g(l),r;r=l;var c=e(r,"type"),f=r.tagName.toLowerCase();r="input"===f||"textarea"===f?"checkbox"===c?r.checked:r.value:"select"===f?r.options[r.selectedIndex].value:void 0;null!==p&&""!==p&&(a.isNull(l)||"radio"!==e(l,"type")?h[p]=""===r?null:r:l.checked&&(h[p]=""===r?null:r))}a.console.log("a.form.get: found element list:",
3);a.console.log(h,3);return h},validate:function(b){if(!a.isNull(e(b,"novalidate"))&&!1===this.skipNoValidate)return[];b=d(b);for(var l=[],u="number range text search url email password color checkbox hidden radio".split(" "),w=RegExp("^[a-z]{2,}:\\/\\/([a-z0-9\\/\\.\\-_~+;:&=]{2,})$","gi"),v=RegExp("^.{2,}@.*\\.[a-z0-9]{2,}$","gi"),z=RegExp("^#([a-f]{3}|[a-f]{6})$","gi"),c=b.length;c--;){var f=b[c],m=f.tagName.toLowerCase();if("select"!==m&&a.isNull(e(f,"formnovalidate"))){var q=e(f,"type"),s=g(f),
n=f.value,x=e(f,"required"),A=e(f,"pattern");e(f,"multiple");var B=e(f,"min"),D=e(f,"max"),E=e(f,"step"),B=a.isNull(B)||""===B?null:parseFloat(B),D=a.isNull(D)||""===D?null:parseFloat(D),E=a.isNull(E)||""===E?null:parseFloat(E);"input"!==m||a.contains(u,q)||a.isNull(q)?"number"!==q&&"range"!==q||a.isNumber(n)?"url"!==q||w.test(n)?"email"!==q||v.test(n)?"color"!==q||z.test(n)?null!==x&&a.contains(r,q)&&(""===n||a.isNull(n))?l.push(h(f,s,"required",n)):null===A||"textarea"!==m&&!a.contains(k,q)&&!a.isNull(q)||
RegExp(A).test(n)?null===B&&null==D&&null==E||!a.contains(p,q)||(m=parseFloat(n),null!==B&&m<B?l.push(h(f,s,"min",n)):null!==D&&m>D?l.push(h(f,s,"max",n)):null!==E&&0!==m%E&&l.push(h(f,s,"step",n))):l.push(h(f,s,"pattern",n)):l.push(h(f,s,null,n)):l.push(h(f,s,null,n)):l.push(h(f,s,null,n)):l.push(h(f,s,null,n)):a.console.warn("Type "+q+" for input "+s+" not recognized or not supported",3)}}a.console.log("a.form.validate: found error list:",3);a.console.log(l,3);return l},validateAndGet:function(b){b=
{errorList:this.validate(b),error:!1,contentList:this.get(b)};0<b.errorList.length&&(b.error=!0);return b}}}();a.keyboard=function(e){return a.isNull(e)?(a.console.error("a.keyboard.global: error, Mousetrap is undefined, the plugin a.keyboard will not work",1),{addListener:function(){},removeListener:function(){},reset:function(){},clear:function(){}}):{addListener:function(b,g){a.console.log("a.keyboard.addListener: bind key: "+b,3);e.bind(b,g)},removeListener:function(b){a.console.log("a.keyboard.removeLister: remove listener on key: "+b,3);e.unbind(b)},reset:function(){a.console.log("a.keyboard.reset: clear all keys",
3);e.reset()},clear:function(){a.console.log("a.keyboard.clear: clear all keys",3);e.reset()}}}(window.Mousetrap);a.language=function(){function e(b,f){if(a.isNull(r[b]))return null;var d=r[b][f];if(a.isNull(d))a.console.info("a.language.__getRawTranslate: unable to find hash in dictionnary (value: "+f+", language: "+b+")",3);else return d;return null}function b(b){b=""+b;0>b.indexOf("{{")&&(b="{{"+b+"}}");b=b.replace("{{","\\{\\{");return b=b.replace("}}","\\}\\}")}function g(c,f){var d=e(k,c);if(!a.isNull(d)){var g=d;if(a.isArray(f))for(var h=0,n=f.length;h<n;++h)var l=b(h+1),l=RegExp(l,"gi"),g=g.replace(l,
f[h]);else for(h in f)l=b(h),l=RegExp(l,"gi"),g=g.replace(l,f[h]);if(0<=g.indexOf("{{")&&0<=g.indexOf("}}"))for(d=d.match(/\{\{[a-z0-9\-_]+\}\}/gi)||[],h=0,n=d.length;h<n;++h){var l=b(d[h]),p=d[h].replace("{{","").replace("}}",""),p=a.isNull(u[p])?null:u[p];a.isNull(p)||(l=RegExp(l,"gi"),g=g.replace(l,p))}return g=g.replace(/\{\{[a-z\-_0-9]+\}\}/gi,"")}return c}function d(b,f){a.isString(f)||(f=y);try{return b.getAttribute(f)}catch(d){return null}}function h(b){a.isNull(b)&&(b=document);var f=[];
a.isNull(d(b))||f.push(b);var h=[];b.querySelectorAll?(h=b.querySelectorAll("*["+y+"]"),0===h.length&&(h=b.querySelectorAll("*"))):h=b.getElementsByTagName("*");b=0;for(var q=h.length;b<q;++b)a.isNull(d(h[b]))||f.push(h[b]);h=0;for(b=f.length;h<b;++h){var s=f[h],q=d(s);if(!a.isNull(q)){var n=e(k,q),p={};a.isNull(n)&&(n=q);for(var n=n.match(/\{\{[a-z0-9\-_]+\}\}/gi)||[],r=0,w=n.length;r<w;++r){var v=n[r].replace("{{","").replace("}}",""),z=d(s,y+"-"+v);a.isNull(z)?(z="undefined"===u[v]?null:u[v],a.isNull(z)||
(p[v]=z)):p[v]=z}n=g(q,p);q=d(s,t);if(!a.isNull(q))try{s[q]=n}catch(G){}else if(s)if("INPUT"!==s.nodeName||"submit"!==s.type&&"reset"!==s.type)if("INPUT"===s.nodeName)try{s.placeholder=n}catch(J){}else if("FIELDSET"===s.nodeName)s.title=n;else if(!a.isNull(s.text)&&document.all)s.text=n;else if(a.isNull(s.childNodes))s.innerHTML=n;else if(q=s.childNodes.length,p=document.createTextNode(n),"leave"===l){for(n=!1;q--;)r=s.childNodes[q],3===r.nodeType&&(n||(s.insertBefore(p,r),n=!0),s.removeChild(r));
n||s.appendChild(p)}else{for(;q--;)s.removeChild(s.firstChild);s.appendChild(p)}else s.value=n}}}var k="en",p=["en","fr","de","sp"],r={},l="leave",y="data-tr",t="data-tr-attr",u={},w=!a.isNull(a.storage)&&!0===a.storage.persistent.support;if(w){var v=a.storage.persistent.getItem("a_language_store_language"),z=a.storage.persistent.getItem("a_language_store_allowed");a.isString(v)&&(k=v,h(document));a.isArray(z)&&(p=z)}return{setBehavior:function(b){l="erase"===b?"erase":"leave"},getBehavior:function(){return l},
getCurrent:function(){return k},setCurrent:function(b,f){!a.isString(b)||0>=b.length?a.console.error("a.language.setCurrent: setting a non-string lang, or empty string, as default language: "+b,1):(a.isNull(f)&&(f=!0),a.contains(p,b)||a.console.warn("a.language.setCurrent: unable to find language in available language list (value: "+b+", available: "+p.join(";")+")",2),k=b,a.isNull(r[k])&&(r[k]={}),a.console.log("a.language.setCurrent: set current language to "+k+", request update ? "+f,3),a.message.dispatch("a.language.change",
{value:k}),w&&a.storage.persistent.setItem("a_language_store_language",k),this.translate(document,f))},getAllowed:function(){return p},setAllowed:function(b){a.isString(b)&&(b=[b]);if(a.isArray(b)){p=b;var f=0;for(b=b.length;f<b;++f)a.isNull(r[f])&&(r[f]={});w&&(a.console.log("a.language.setAllowed: set allowed language to "+p,3),a.storage.persistent.setItem("a_language_store_allowed",p))}else a.console.error("a.language.setAllowed: the allowed language must be an Array (value: "+b+")",1)},getSingleTranslation:function(b,
f){return g(b,f)},addSingleTranslation:function(b,f,d,e){a.isNull(r[b])&&(a.console.warn("a.language.addSingleTranslation: be carefull, the language you submit does not seems to exist in dict (value: "+b+", dict: "+p.join(";")+")",1),r[b]={});r[b][f]=d;this.translate(document,e)},addTranslation:function(b,f,d){a.isNull(r[b])&&(r[b]={});for(var e in f)r[b][e]=f[e];this.translate(document,d)},getTranslation:function(b){return a.isString(b)?r[b]:r},translate:function(b,f){!1!==f&&h(b)},addVariable:function(b,
f){a.console.log("a.language.addVariable: add global variable (key: "+b+", value: "+f+")",3);u[b]=f},getVariable:function(b){return"undefined"===u[b]?null:u[b]},removeVariable:function(b){a.console.log("a.language.removeVariable: remove global variable (key: "+b+")",3);delete u[b]},clear:function(){r={}}}}();a.page={};
a.page.template={__tmpl:{},get:function(e,b,g,d){var h=null;a.isObject(window.Mustache)?h=window.Mustache:a.isObject(window.Handlebars)&&(h=window.Handlebars);if(null==h)a.console.error("a.page.template.get: unable to find Mustache.JS or Handlebars.JS ! Can't proceed",1);else{var k=e.replace(/[^a-zA-Z0-9\\-]/g,"_"),p="a_tmpl_"+k+"_a",r=function(b,d,e){a.isFunction(b)&&(a.isNull(h.to_html)?(d=h.compile(a.page.template.__tmpl[d]),b(d(e))):b(h.to_html(a.page.template.__tmpl[d],e)))};a.isString(this.__tmpl[p])?(a.console.log("a.page.template.get: loading "+
p+" from cache",3),r(g,p,b)):document.getElementById(p)?(this.__tmpl[p]||(a.console.log("a.page.template.get: loading "+p+" from inner html page",3),this.__tmpl[p]=document.getElementById(p).innerHTML),r(g,p,b)):document.getElementById(k)?(this.__tmpl[k]||(a.console.log("a.page.template.get: loading "+k+" from inner html page",3),this.__tmpl[k]=document.getElementById(k).innerHTML),r(g,k,b)):(a.console.log("a.page.template.get: loading "+e+" from external resource",3),a.loader.html(e,function(d,e,
h){a.page.template.__tmpl[p]||(a.page.template.__tmpl[p]=d);r(g,p,b)},{},d))}},htmlToDom:function(e){var b=document.createElement("div");b.innerHTML=e.replace(/^\s+|\s+$/g,"");e=b.childNodes;for(var b=[],g=0,d=e.length;g<d;++g){var h=e.item(g);!a.isObject(h)||"1"!==h.nodeType.toString()&&"3"!==h.nodeType.toString()||b.push(h)}return b},remove:function(e,b){for(;e.firstChild;)e.removeChild(e.firstChild);a.isFunction(b)&&b()},append:function(e,b,g){var d=this.htmlToDom(b);if(a.isObject(d))for(var h=
0,k=d.length;h<k;++h)e.appendChild(d[h]);a.isNull(a.language)||a.language.translate(e);a.isFunction(g)&&g(b)},replace:function(e,b,g){this.remove(e);this.append(e,b,g)}};
a.page.event=function(){function e(b,d){a.isObject(d)||(d={});return function(){a.message.dispatch("a.page.event."+b,d)}}function b(){var b=(new Date).getTime();b>p+2*k&&(a.console.log("a.page.event.hibernate: hibernate mode has been detected",3),e("hibernate")());p=b}function g(b,d){window.addEventListener?window.addEventListener(b,d,!1):window.attachEvent&&window.attachEvent("on"+b,d)}function d(b){var d=window.location.hash?window.location.hash.substring(1):null;if(r!==d){if(!0!==b){for(l.push({hash:d,
time:(new Date).getTime()});1E3<l.length;)l.shift();a.console.log("a.page.event.hash: hash change (previous: "+r+", new: "+d+")",3);e("hash",{value:d,old:r})()}r=d}}var h={},k=1E4,p=(new Date).getTime(),r=null,l=[];h.hash={getHash:function(){return window.location.hash?window.location.hash.substring(1):null},getPreviousHash:function(){return r},setPreviousHash:function(b){a.console.log("a.page.event.hash.setPreviousHash: change previous hash to "+b,3);r=b},trace:function(){return l}};d(!0);!a.isNull(window.onhashchange)&&
(void 0===document.documentMode||7<document.documentMode)?window.onhashchange=d:a.timer.add(d,null,50);var y=["resize","load","unload"],t;for(t in y)g(y[t],e(y[t]));g("load",function(){a.timer.add(b,null,k)});return h}();a.state=function(){function e(b){return a.isArray(b)?b.reverse():a.isString(b)?[b]:[]}function b(){for(var b=z;z===b||0>=z;)z=Math.floor(1E5*Math.random());return z}function g(b,c){var d=[],e=b.length;c=a.isFunction(c)?c:function(){return!0};for(var g=0;g<e;++g){for(var h=!1,k=0;k<e;++k)if(g!=k&&b[g].id===b[k].id&&c(b[g])){h=!0;break}h||d.push(b[g].id)}return d}function d(b){for(var c=0,d=[],e=a.state.helper.tree.selectLevel(b,l,c);0<e.length;)d.push(e),c++,e=a.state.helper.tree.selectLevel(b,l,c);
return d}function h(b){b=k(b);for(var c=v.length,d=[];c--;){for(var e=v[c].hashtagList,g=e.length,h=!1;g--&&(h=b({hash:e[g]}),!0!==h););h||(d=d.concat(v[c].itemList.slice()),v.splice(c,1))}return d}function k(b){return function(c){if(a.isObject(c)&&0<c.hash.length){if(c.hash===b)return!0;if(0<=c.hash.indexOf("{{")&&0<=c.hash.indexOf("}}")){var d=a.state.helper.parameter.extract(c.hash);c=c.hash;for(var e=d.length;e--;)c=a.state.helper.parameter.replace(c,d[e]);return RegExp("^"+c+"$","gi").test(b)}}return!1}}
function p(b){return function(c){return a.isObject(c)&&(a.isArray(b)&&a.contains(b,c.id)||c.id===b)?!0:!1}}function r(b,c){var d=p(c),e=k(b);return function(b){return!0===d(b)||!0===e(b)?!0:!1}}function l(b){return a.isObject(b)&&a.isArray(b.children)?b.children:[]}function y(b){return a.isObject(b)?b.id:-1}function t(b){return a.isObject(b)&&a.isObject(b.error)?b.error:null}function u(c){var e=a.clone(w),q=a.clone(w),s=a.clone(w),n=h(c.value),p=k(c.old),n=r(c.old,n),t=k(c.value);a.state.helper.tree.selectBranch(e,
l,n);a.state.helper.tree.selectBranch(q,l,t);a.state.helper.tree.selectBranch(s,l,k("*"));var n=a.state.helper.tree.flat(e.concat(q),l),u=g(n,function(b){return 0<=b.hash.indexOf("{{")&&0<=b.hash.indexOf("}}")&&!a.state.helper.tree.isInBranch(b,l,t)&&!a.state.helper.tree.isInBranch(b,l,p)?!1:!0}),v=a.state.helper.tree.flat(s,l,y),e=d(e),z=d(q);a.message.dispatch("a.state.begin",c);a.console.log("a.state: element allowed to proceed change: "+u+" (does not mean all of them will be loaded)",3);var G=
b();a.state.helper.chainer("unload",e,u,-1,function(){a.state.helper.chainer("load",z,u,G,function(){0<s.length?(s=[s],a.console.log("a.state: wildcard allowed to proceed change: "+v+" (does not mean all of them will be loaded)",3),a.state.helper.chainer("unload",s,v,-1,function(){a.state.helper.chainer("load",s,v,-1,function(){a.message.dispatch("a.state.end",c)})})):a.message.dispatch("a.state.end",c)})})}var w=[],v=[],z=-1,c=[];a.message.addListener("a.page.event.hash",u);a.message.addListener("a.message.clear",
function(){a.message.addListener("a.page.event.hash",u)});return{clear:function(){w=[]},tree:function(){return a.clone(w)},add:function(b,c){if(!a.isObject(b))return null;if(a.isArray(b))for(var d=0,g=b.length;d<g;++d)this.add(b[d]);else{b.hash=a.isString(b.hash)?b.hash:"";a.isObject(b.include)||(b.include={});b.include.css=e(b.include.css);b.include.js=e(b.include.js);b.include.translate=e(b.include.translate);b.include.html=a.isString(b.include.html)?b.include.html:null;for(var h=["preLoad","postLoad",
"preUnload","unload","postUnload"],k=0,d=h.length;k<d;++k)g=b[h[k]],a.isFunction(g)&&(g=g.toString(),g=g.slice(g.indexOf("(")+1,g.indexOf(")")).match(/([^\s,]+)/g),a.isNull(g)&&a.console.warn("The result parameter for function '"+h[k]+"' in id '"+b.id+"' has not been found, the state may not work properly",2));!a.isArray(b.children)&&a.isObject(b.children)&&(b.children=[a.clone(b.children)]);k=!a.isNull(b.parent);d=a.isArray(b.children);"*"===b.hash&&(k&&a.console.warn("a.state.add : The wildcard has a parent setted (not allowed)",
1),d&&a.console.warn("a.state.add : The wildcard has children (not allowed)",1),b.parent=null,k=!1,b.children=[]);h=[];d&&(h=b.children.slice());b.children=[];a.isNull(b.id)&&(b.id=1);for(;!a.isNull(a.state.helper.tree.getItem(w,l,p(b.id)));)b.id=Math.floor(1E5*Math.random()+1);if(k){k=a.state.helper.tree.getItem(w,l,p(b.parent));if(a.isNull(k))return null;k.children.push(b)}else w.push(b);k=b.id;d=0;for(g=h.length;d<g;++d)a.isObject(h[d])&&(h[d].parent=k,this.add(h[d]));"*"===b.hash&&a.state.helper.chainer("load",
[[b]],[k],-1,function(){});!0===b.bootOnLoad&&(h=a.clone(b),h.data=h.converter=h.options=null,h.preLoad=h.load=h.postLoad=null,h.preUnload=h.unload=h.postUnload=null,c=a.isFunction(c)?c:function(){},a.state.helper.chainer("load",[[h]],[k],-1,c));return k}},getById:function(b){return a.state.helper.tree.getItem(w,l,p(b))},removeById:function(b){var c=a.state.helper.tree.getItem(w,l,p(b));a.console.log("a.state.removeById: remove element (id: "+b+")",3);a.state.helper.tree.selectBranch(w,l,function(b){return b===
c?!1:!0})},loadById:function(b,c,h){var s=a.clone(w),n=a.page.event.hash.getHash(),r=a.clone(w);a.state.helper.tree.selectBranch(s,l,p(b));a.state.helper.tree.selectBranch(r,l,k(n));var t=a.state.helper.tree.flat(s,l),r=a.state.helper.tree.flat(r,l),r=g(r.concat(t)),s=d(s);h=a.isFunction(h)?h:function(){};a.console.log("a.state.loadById: element allowed to proceed change: "+r+" (does not mean all of them will be loaded)",3);a.state.helper.chainer("load",s,r,-1,h);a.isNull(c)&&(c=n);b={id:b,itemList:a.state.helper.tree.flat(t,
l,y),hashtagList:e(c)};v.push(b)},unloadById:function(b,c){for(var e=this.getById(b),e=d([e]),g=[],h=v.length;h--;)g=g.concat(v[h].itemList);a.console.log("a.state.unloadById: element allowed to proceed change: "+g+" (does not mean all of them will be unloaded)",3);h=a.isFunction(c)?c:function(){};a.state.helper.chainer("unload",e,g,-1,h)},forceReloadById:function(c,e){for(var g=a.isFunction(e)?e:function(){},h=v.length,n=[],p=a.clone(v);h--;)a.contains(v[h].itemList,c)&&n.push(v[h].hashtagList);
if(0<n.length)this.unloadById(c,function(){for(var b=n.length;b--;)a.state.loadById(c,n[b]);v=p;g()});else{var h=a.clone(w),r=a.page.event.hash.getHash();a.state.helper.tree.selectBranch(h,l,k(r));for(var r=a.state.helper.tree.flat(h,l),t=r.length;t--;)if(r[t].id===c){var u=d([r[t]]),z=a.state.helper.tree.flat(h,l,y);a.console.log("a.state.forceReloadById: element allowed to proceed change: "+z+" (does not mean all of them will be loaded/unloaded)",3);var G=b();a.state.helper.chainer("unload",u,z,
-1,function(){a.state.helper.chainer("load",u,z,G,g)});break}}},hashExists:function(b){return a.isString(b)&&""!==b?a.state.helper.tree.isInBranch(w,l,k(b)):!1},__currentGeneratedId:function(){return z},__getError:function(b,c){var d=b.id;c="_"+c;var e=a.clone(w);a.state.helper.tree.selectBranch(e,l,p(d));for(var d=a.state.helper.tree.flat(e,l,t),e=[c,c.substring(0,c.length-1)+"x",c.substring(0,c.length-2)+"xx","generic","_generic"],g=0,h=e.length;g<h;++g){var k;a:{k=e[g];for(var r=d.length;r--;){var u=
d[r];if(!a.isNull(u))for(var v in u)if(v==k){k=u[v];break a}}k=null}if(!a.isNull(k))return k}return null},type:{add:function(b,d){c[b]=d},get:function(b){return a.isFunction(c[b])?c[b]:null},list:function(){return c}},helper:{tree:{},chainer:{},parameter:{}}}}();
a.state.helper.tree={flat:function(e,b,g){var d=[];if(!a.isArray(e)||!a.isFunction(b))return[];g=a.isFunction(g)?g:function(b){return b};for(var h=0,k=e.length;h<k;++h){var p=this.flat(b(e[h]),b,g);d.push(g(e[h]));0<p.length&&(d=d.concat(p))}return d},getItem:function(e,b,g){if(!a.isArray(e)||!a.isFunction(g)||!a.isFunction(b))return null;for(var d=0,h=e.length;d<h;++d){if(!0===g(e[d]))return e[d];var k=this.getItem(b(e[d]),b,g);if(!a.isNull(k))return k}return null},isInBranch:function(e,b,g){e=this.getItem(e,
b,g);return a.isNull(e)?!1:!0},selectBranch:function(e,b,g){if(a.isArray(e)&&a.isFunction(b)&&a.isFunction(g))for(var d=e.length;d--;){var h=b(e[d]);!1===g(e[d])&&a.isNull(this.getItem(h,b,g))?e.splice(d,1):0<h.length&&this.selectBranch(h,b,g)}},selectLevel:function(e,b,g){if(!a.isArray(e)||!a.isFunction(b))return[];var d=[],h=e.length;if(a.isNull(g)||isNaN(g)||0>=g)return e;for(g--;h--;){var k=b(e[h]);0<k.length&&(d=d.concat(this.selectLevel(k,b,g)))}return d}};
a.state.helper.chainer=function(e,b,g,d,h){function k(b,c){var d={};a.isNull(b)||(d.resource=b);a.isNull(c)||(d.status=c);var e=a.state.__getError(z,c);a.message.dispatch("a.state.error",d);a.isNull(e)||(a.isString(e)?window.location.href="#"+e:a.isFunction(e)?e(z.id,b,c):a.console.error("a.state.helper.chainer.__error: error resolver cannot determine action to perform, please check your different error handler (status: "+c+", state id: "+z.id+")"))}function p(b){return function(c){w(b,function(){c.done()})}}
function r(b,c,d){return function(e){a.loader[b](c,function(b){a.isFunction(d)&&d(b);e.done()})}}function l(b,c,d){if(a.isObject(d))for(var e in d)d[e]=a.state.helper.parameter.extrapolate(d[e],b,c),l(b,c,d[e])}function y(b,c,d,e){var f=a.clone(d);d=a.page.event.hash.getHash();f.url=a.state.helper.parameter.extrapolate(c,d,e);l(d,e,f);c=c.replace(/^\s+|\s+$/g,"");return 0===c.indexOf("{{")&&c.indexOf("}}")===c.length-2?(c=a.state.helper.parameter.extrapolate(c,d,e,!1),function(d){var e=d.getData("data")||
{};a.isObject(e.a)||(e.a=e.appstorm={},e.a.parameter=e.appstorm.parameter={});a.isNull(b)?e=c:(e.a.parameter[b]=c,e.appstorm.parameter=e.a.parameter,a.isNull(e[b])&&(e[b]=c));d.setData("data",e);d.done()}):function(c){a.isNull(c.getData("data"))&&c.setData("data",{});(new a.ajax(f,function(d){if(a.isNull(b))c.setData("data",d);else{var e=c.getData("data");e[b]=d;c.setData("data",e)}c.done()},k)).send()}}function t(b,c){for(var d=new a.callback.synchronizer,e=b.include.css,f=b.include.js,g=b.include.html,
h=b.include.translate,l=b.data,p=b.title,t=b.options,u=b.converter,v=b.hash,w=e.length,z=f.length;w--;)d.addCallback(r("css",e[w]));for(;z--;)d.addCallback(r("js",f[z]));if(!a.isNull(a.language)&&0<h.length)for(e=h.length;e--;)d.addCallback(r("json",h[e],function(b){for(var c in b)a.language.addTranslation(c,b[c],!0)}));a.isString(g)&&(g=a.state.helper.parameter.extrapolate(g,a.page.event.hash.getHash(),v),d.addCallback(function(b){b.setData("html",g);a.page.template.get(g,{},b.done,k)}));if(a.isString(l)||
a.isObject(l))if(a.isObject(t)||(t={type:"json"}),a.isString(t.type)||(t.type="json"),a.isString(l))d.addCallback(y(null,l,t,v));else for(var C in l)a.isObject(l[C])&&a.isString(l[C].url)?(a.isObject(l[C].options)||(l[C].options={type:"json"}),d.addCallback(y(C,l[C].url,l[C].options,v))):d.addCallback(y(C,l[C],t,v));else d.addCallback(function(b){b.setData("data",{});b.done()});d.setSuccess(function(b){a.isNull(u)||u(b.data);a.isNull(p)||(p=a.state.helper.parameter.extrapolate(p,a.page.event.hash.getHash(),
v),a.isNull(a.language)?document.title=p:document.title=a.language.getSingleTranslation(p));var d=b.data,e=b.html,d=a.isNull(d)?{}:d;a.isNull(e)?a.isFunction(c)&&c(b,null):a.page.template.get(e,d,function(d){a.isFunction(c)&&c(b,d)})});d.setFail(k);d.start()}function u(b,c){z=b;var f=new a.callback.chainer;"unload"===e?f.addCallback(b.preUnload,b.unload,b.postUnload):f.addCallback(function(c){a.isFunction(b.preLoad)&&(-1==d||0<=d&&a.state.__currentGeneratedId()===d)?b.preLoad(c):c.done()},function(c){t(b,
function(e,f){a.isFunction(b.load)&&(-1==d||0<=d&&a.state.__currentGeneratedId()===d)&&b.load(f);var g=c.getFullData()||{};if(a.isObject(e.data))for(var h in e.data)g[h]=e.data[h];c.setFullData(g);c.done()})},function(c){a.isFunction(b.postLoad)&&(-1==d||0<=d&&a.state.__currentGeneratedId()===d)?b.postLoad(c):c.done()},function(c){var d={id:b.id,value:b.id};a.message.dispatch("a.state.load",d);a.message.dispatch("a.state.load-"+b.id,d);c.done()});f.setSuccess(c);f.setFail(k);f.start()}function w(b,
c){for(var d=new a.callback.synchronizer,e=b.length;e--;)a.contains(g,b[e].id)&&function(b){d.addCallback(function(c){u(b,function(){c.done()})})}(b[e]);d.setSuccess(c);d.setFail(k);d.start()}var v=b.length,z=null;e="unload"===e?"unload":"load";g=g||[];var c=new a.callback.chainer;if("unload"===e)for(;v--;)c.addCallback(p(b[v]));else for(var f=0;f<v;)c.addCallback(p(b[f])),f++;c.setSuccess(h);c.setFail(k);c.start()};
a.state.helper.parameter={extract:function(e,b){var g=/\{\{(\s*\w+\s*:\s*[a-z0-9_\-\[\]\(\)\^.\|\+\*\?\\\/]+\s*)\}\}/gmi,d=/^\s+|\s+$/g,h=!a.isNull(b);h&&(g=b);for(var k=[],p;p=g.exec(e);){var r=null,r=h?["hash",p[1]]:p[1].split(":",2);k.push({original:p[0].replace(d,""),name:r[0].replace(d,""),regex:r[1].replace(d,""),start:p.index})}return k},replace:function(e,b,g){g=a.isNull(g)?"("+b.regex+")":g;return e.substr(0,b.start)+g+e.substr(b.start+b.original.length)},extrapolate:function(e,b,g,d){if(a.isString(e)&&
0<=e.indexOf("{{")&&0<=e.indexOf("}}")){for(var h=this.extract(e),k=this.extract(g),p=this.extract(e,/\{\{(\s*\w+\s*)\}\}/gmi),h=h.concat(p),p=k.length;p--;)g=this.replace(g,k[p]);if(p=RegExp("^"+g+"$","gi").exec(b)){b=0;for(g=k.length;b<g;++b)k[b].value=p[b+1];for(var p=0,r=h.length;p<r;++p)for(b=0;b<g;++b)k[b].name===h[p].regex&&"hash"===h[p].name&&(h[p].value=k[b].value)}k=h.length;for(d=!1===d?function(b,d,e){return e}:this.replace;k--;){b=h[k];"hash"!==b.name&&"hashtag"!==b.name||a.isNull(b.value)||
(e=this.replace(e,b,b.value));g=!1;if(!a.isNull(a.storage))switch(b.name){case "temporary":e=d(e,b,a.storage.temporary.getItem(b.regex));g=!0;break;case "memory":e=d(e,b,a.storage.memory.getItem(b.regex));g=!0;break;case "persistent":e=d(e,b,a.storage.persistent.getItem(b.regex));g=!0;break;case "cookie":e=d(e,b,a.storage.cookie.getItem(b.regex));g=!0;break;case "store":case "storage":g=a.storage.temporary.getItem(b.regex),e=a.isNull(g)?d(e,b,a.storage.persistent.getItem(b.regex)):d(e,b,g),g=!0}if(!g&&
(g=a.state.type.list(),a.isObject(g)))for(var l in g)l===b.name&&(p=g[l],e=a.isFunction(p)?d(e,b,p(b.regex)):d(e,b,p))}}return e}};a.storage={__printGetItem:function(e,b,g){"__test_support"!==b&&a.console.log("a.storage.type."+e+".getItem: get element (key: "+b+", value: "+g+")",3)},__printGetErrorItem:function(e,b){"__test_support"!==b&&a.console.log("a.storage.type."+e+".getItem: unable to find key ("+b+") in store",2)},__printSetItem:function(e,b,g){"__test_support"!==b&&a.console.log("a.storage.type."+e+".setItem: add element (key: "+b+", value: "+g+")",3)},__printRemoveItem:function(e,b){"__test_support"!==b&&a.console.log("a.storage.type."+
e+".removeItem: remove element (key: "+b+")",3)},type:{}};
a.storage.type.cookie=function(){var e=!1,b={support:!1,engine:"cookie",setItem:function(b,d,e){var k="";a.storage.__printSetItem("cookie",b,d);e&&(k=new Date,k.setTime(k.getTime()+864E5*e),k="; expires="+k.toGMTString());document.cookie=b+"="+escape(a.parser.json.stringify(d))+k+"; path=/"},getItem:function(b){if(0<document.cookie.length){var d=document.cookie.indexOf(b+"=");if(-1!=d){var d=d+b.length+1,e=document.cookie.indexOf(";",d);-1==e&&(e=document.cookie.length);d=a.parser.json.parse(unescape(document.cookie.substring(d,
e)));a.storage.__printGetItem("cookie",b,d);return d}}a.storage.__printGetErrorItem("cookie",b);return null},removeItem:function(b){a.storage.__printRemoveItem("cookie",b);this.setItem(b,"",-1);e&&a.message.dispatch("a.storage.remove",{key:b})}};b.setItem("__test_support","ok");"ok"===b.getItem("__test_support")&&(b.removeItem("__test_support"),b.support=!0);e=!0;return b}();a.storage.cookie=a.storage.type.cookie;
a.storage.type.localStorage=function(){var e=!1;"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("__test_support","o"),"o"===window.localStorage.getItem("__test_support")&&(window.localStorage.removeItem("__test_support"),e=!0));return{support:e,engine:"localStorage",getItem:function(b){if(e){var g=window.localStorage.getItem(b);if(a.isNull(g))return a.storage.__printGetErrorItem("localStorage",b),null;g=a.parser.json.parse(g);a.storage.__printGetItem("localStorage",
b,g);return g}return null},setItem:function(b,g){e&&(a.storage.__printSetItem("localStorage",b,g),window.localStorage.setItem(b,a.parser.json.stringify(g)),a.message.dispatch("a.storage.add",{key:b,value:g}))},removeItem:function(b){e&&(a.storage.__printRemoveItem("localStorage",b),window.localStorage.removeItem(b),a.message.dispatch("a.storage.remove",{key:b}))}}}();
a.storage.type.globalStorage=function(){var e=!1,b=window.location.hostname;a.isNull(window.globalStorage)||(window.globalStorage[b].setItem("__test_support","ok"),"ok"==window.globalStorage[b].getItem("__test_support")&&(window.globalStorage[b].removeItem("__test_support"),e=!0));return{support:e,engine:"globalStorage",getItem:function(g){if(e){var d=window.globalStorage[b].getItem(g);if(a.isObject(d)&&!a.isNull(d.value))return d=a.parser.json.parse(d.value),a.storage.__printGetItem("globalStorage",
g,d),d;if(a.isNull(d))a.storage.__printGetErrorItem("globalStorage",g);else return d=a.parser.json.parse(d),a.storage.__printGetItem("globalStorage",g,d),d}return null},setItem:function(g,d){e&&(a.storage.__printSetItem("globalStorage",g,d),window.globalStorage[b].setItem(g,a.parser.json.stringify(d)),a.message.dispatch("a.storage.add",{key:g,value:d}))},removeItem:function(g){e&&(a.storage.__printRemoveItem("globalStorage",g),window.globalStorage[b].removeItem(g),a.message.dispatch("a.storage.remove",
{key:g}))}}}();
a.storage.type.memory=function(){var e={};return{support:!0,engine:"memory",getItem:function(b){var g=e[b];if(!a.isNull(g))return a.storage.__printGetItem("memory",b,g),a.console.log("a.storage.memory.getItem: found item (key: "+b+", value: "+g+")",3),g;a.storage.__printGetErrorItem("memory",b);return null},setItem:function(b,g){e[b]=g;a.storage.__printSetItem("memory",b,g);a.message.dispatch("a.storage.add",{key:b,value:g})},removeItem:function(b){a.storage.__printRemoveItem("memory",b);a.isNull(e[b])||
(delete e[b],a.message.dispatch("a.storage.remove",{key:b}))}}}();a.storage.memory=a.storage.type.memory;
a.storage.type.sessionStorage=function(){var e=!1;"sessionStorage"in window&&!a.isNull(window.sessionStorage)&&(window.sessionStorage.setItem("__test_support","o"),"o"===window.sessionStorage.getItem("__test_support")&&(window.sessionStorage.removeItem("__test_support"),e=!0));return{support:e,engine:"sessionStorage",getItem:function(b){if(e){var g=window.sessionStorage.getItem(b);if(a.isNull(g))return a.storage.__printGetErrorItem("sessionStorage",b),null;g=a.parser.json.parse(g);a.storage.__printGetItem("sessionStorage",
b,g);return g}return null},setItem:function(b,g){e&&(a.storage.__printSetItem("sessionStorage",b,g),window.sessionStorage.setItem(b,a.parser.json.stringify(g)),a.message.dispatch("a.storage.add",{key:b,value:g}))},removeItem:function(b){e&&(a.storage.__printRemoveItem("sessionStorage",b),window.sessionStorage.removeItem(b),a.message.dispatch("a.storage.remove",{key:b}))}}}();
a.storage.type.userData=function(){var e=!1;if(document.all)try{document.write('<input type="hidden" id="a_storage" style="display:none;behavior:url(\'#default#userData\')" />');var b=document.getElementById("a_storage");b.load("aUserDataStorage");b.setAttribute("__test_support","ok");b.save("aUserDataStorage");"ok"===b.getAttribute("__test_support")&&(b.removeAttribute("__test_support"),b.save("aUserDataStorage"),e=!0)}catch(g){e=!1}return{support:e,engine:"userData",getItem:function(d){if(e){var g=
a.parser.json.parse(b.getAttribute(d));if(a.isNull(g))return a.storage.__printGetErrorItem("userData",d),null;a.storage.__printGetItem("userData",d,g);return g}return null},setItem:function(d,g){e&&(a.storage.__printSetItem("userData",d,g),b.setAttribute(d,a.parser.json.stringify(g)),b.save("aUserDataStorage"),a.message.dispatch("a.storage.add",{key:d,value:g}))},removeItem:function(d){e&&(a.storage.__printRemoveItem("userData",d),b.removeAttribute(d),b.save("aUserDataStorage"),a.message.dispatch("a.storage.remove",
{key:d}))}}}();
a.storage.type.flash=function(){function e(e){if(!1===b&&!1===g){var k=document.createElement("div");k.id="flashstoragecontent";document.body.appendChild(k);var p={id:d,rootId:k.id,flashvars:{},params:{wmode:"transparent",menu:"false",scale:"noScale",allowFullscreen:"true",allowScriptAccess:"always"}};a.loader.flash(a.url+"vendor/storage/flash/localStorage.swf",function(d){g=!0;d=document.getElementById(p.id);!0===d.testData()&&(b=!0,d.setDatabase("a_flashStorage"));!0===b&&a.isFunction(e)&&e(b)},
p)}else!0===b&&a.isFunction(e)&&e(b)}var b=!1,g=!1,d="flashstorage";return{support:function(){return b},ready:function(){return g},engine:"flash",start:function(b){e(b)},getItem:function(e){this.start();if(!0===b){var g=document.getElementById(d).getData(e);if(a.isNull(g))return a.storage.__printGetErrorItem("flash",e),null;a.storage.__printGetItem("flash",e,g);return g}return null},setItem:function(e,g){this.start();!0===b&&(a.storage.__printSetItem("flash",e,g),document.getElementById(d).setData(e,
g))},removeItem:function(e){this.start();if(!0===b)return a.storage.__printRemoveItem("flash",e),document.getElementById(d).removeData(e)}}}();
a.storage.type.silverlight=function(){function e(e){if(!1===b&&!1===g){var k=document.createElement("div");k.id="__silverlightstorage";document.body.appendChild(k);var p={id:d,rootId:k.id,params:[{name:"minRuntimeVersion",value:"2.0.31005.0"},{name:"autoUpgrade",value:"true"}]};a.loader.silverlight(a.url+"vendor/storage/silverlight/silverlightStorage.xap",function(d){g=!0;!0===document.getElementById(p.id).Content.store.testData()&&(b=!0);!0===b&&a.isFunction(e)&&e(b)},p)}else!0===b&&a.isFunction(e)&&
e(b)}var b=!1,g=!1,d="silverlightstorage";return{support:function(){return b},ready:function(){return g},engine:"silverlight",start:function(b){e(b)},getItem:function(e){this.start();if(!0===b){var g=document.getElementById(d).Content.store.loadData(e);if(a.isNull(g)||"false"===g)return a.storage.__printGetErrorItem("silverlight",e),null;g=a.parser.json.parse(g);a.storage.__printGetItem("silverlight",e,g);return g}return null},setItem:function(e,g){this.start();!0===b&&(a.storage.__printSetItem("silverlight",
e,g),document.getElementById(d).Content.store.saveData(e,a.parser.json.stringify(g)))},removeItem:function(e){this.start();!0===b&&(a.storage.__printRemoveItem("silverlight",e),document.getElementById(d).Content.store.removeData(e))}}}();
a.storage.type.javafx=function(){function e(d){!1===b&&!1===g?a.loader.javafx(a.url+"vendor/storage/javafx/JavaFXStorage.jar",function(){g=!0;!0===document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.testData()&&(b=!0,el.setDatabase("a_javafxStorage"));!0===b&&a.isFunction(d)&&d(b)},{code:"javafxstorage.Main",id:"javafxstorage"}):!0===b&&a.isFunction(d)&&d(b)}var b=!1,g=!1;return{support:function(){return b},ready:function(){return g},engine:"javafx",start:function(b){e(b)},
getItem:function(d){this.start();if(!0===b){var e=document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.loadData(d);if(a.isNull(e)||"false"===e)return a.storage.__printGetErrorItem("javafx",d),null;e=a.parser.json.parse(e);a.storage.__printGetItem("javafx",d,e);return e}return null},setItem:function(d,e){this.start();!0===b&&(a.storage.__printSetItem("javafx",d,e),document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.saveData(d,a.parser.json.stringify(e)))},
removeItem:function(d){this.start();!0===b&&(a.storage.__printRemoveItem("javafx",d),document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.removeData(d))}}}();a.storage.temporary=function(){for(var e=["sessionStorage","cookie","memory"],b=0,g=e.length;b<g;++b){var d=e[b];if(a.storage.type[d].support)return a.console.log("a.storage.temporary: choosing storage "+a.storage.type[d].engine,3),a.message.dispatch("a.storage.temporary.change",{engine:d}),a.storage.type[d]}return null}();
a.storage.external=function(){function e(b,e){a.storage.external.ready=b.ready;a.storage.external.support=b.support;a.storage.external.engine=b.engine;a.storage.external.getItem=b.getItem;a.storage.external.setItem=b.setItem;a.storage.external.removeItem=b.removeItem;a.isFunction(e)&&e()}return{start:function(b){var g=a.storage.type.silverlight,d=a.storage.type.flash,h=a.storage.type.javafx;g.start(function(k){k?(a.console.log("a.storage.external: choosing storage silverlight",3),e(g,b)):d.start(function(g){g?
(a.console.log("a.storage.external: choosing storage flash",3),e(d,b)):h.start(function(d){d?(a.console.log("a.storage.external: choosing storage javafx",3),e(h,b)):a.console.warn("a.storage.external: choosing storage NONE AVAILABLE",3)})})})}}}();
a.storage.persistent=function(){for(var e=["localStorage","globalStorage","userData","cookie"],b=0,g=e.length;b<g;++b){var d=e[b];if(a.storage.type[d].support)return a.console.log("a.storage.persistent: choosing storage "+a.storage.type[d].engine,3),a.message.dispatch("a.storage.persistent.change",{engine:d}),a.storage.type[d]}return null}();
null==a.storage.persistent&&(a.storage.persistent={},a.storage.persistent.support=!1,a.storage.persistent.engine=function(){return"none"},a.storage.persistent.getItem=function(){return null},a.storage.persistent.setItem=function(){},a.storage.persistent.removeItem=function(){});a.storage.support=a.storage.persistent.support;a.storage.engine=a.storage.persistent.engine;a.storage.getItem=a.storage.persistent.getItem;a.storage.setItem=a.storage.persistent.setItem;a.storage.removeItem=a.storage.persistent.removeItem;
